.. auto-generated by dev_tools.docs.nxdl from the NXDL source contributed_definitions/NXcalibration.nxdl.xml -- DO NOT EDIT

.. index::
    ! NXcalibration (base class)
    ! calibration (base class)
    see: calibration (base class); NXcalibration

.. _NXcalibration:

=============
NXcalibration
=============

**Status**:

  base class, extends :ref:`NXobject`

**Description**:

  Subclass of NXprocess to describe post-processing calibrations.

**Symbols**:

  The symbols used in the schema to specify e.g. dimensions of arrays

  **ncoeff**: Number of coefficients of the calibration function

  **ncal**: Number of points of the calibrated and uncalibrated axes

**Groups cited**:
  :ref:`NXdata`, :ref:`NXidentifier`, :ref:`NXserialized`

.. index:: NXidentifier (base class); used in base class, NXserialized (base class); used in base class, NXdata (base class); used in base class

**Structure**:

  .. _/NXcalibration@default-attribute:

  .. index:: default (file attribute)

  **@default**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

    .. collapse:: Declares which child group contains a path leading ...

        .. index:: plotting

        Declares which child group contains a path leading
        to a :ref:`NXdata` group.

        It is recommended (as of NIAC2014) to use this attribute
        to help define the path to the default dataset to be plotted.
        See https://www.nexusformat.org/2014_How_to_find_default_data.html
        for a summary of the discussion.

  .. _/NXcalibration/description-field:

  .. index:: description (field)

  **description**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

    A description of the procedures employed.

  .. _/NXcalibration/physical_quantity-field:

  .. index:: physical_quantity (field)

  **physical_quantity**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

    .. collapse:: The physical quantity of the calibration, e.g., ...

        The physical quantity of the calibration, e.g.,
        energy, momentum, time, etc.

  .. _/NXcalibration/last_process-field:

  .. index:: last_process (field)

  **last_process**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

    Indicates the name of the last operation applied in the NXprocess sequence.

  .. _/NXcalibration/applied-field:

  .. index:: applied (field)

  **applied**: (optional) :ref:`NX_BOOLEAN <NX_BOOLEAN>` 

    Has the calibration been applied?

  .. _/NXcalibration/calibration_software-field:

  .. index:: calibration_software (field)

  **calibration_software**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

    Name of the software used for this calibration.

    .. _/NXcalibration/calibration_software@version-attribute:

    .. index:: version (field attribute)

    **@version**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

      Software version.

  .. _/NXcalibration/original_axis-field:

  .. index:: original_axis (field)

  **original_axis**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` (Rank: 1, Dimensions: [ncal]) {units=\ :ref:`NX_ANY <NX_ANY>`} 

    Vector containing the data coordinates in the original uncalibrated axis

    .. _/NXcalibration/original_axis@symbol-attribute:

    .. index:: symbol (field attribute)

    **@symbol**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

      .. collapse:: The symbol of the axis to be used in the fit_function, e.g., `energy`, `E`. ...

          The symbol of the axis to be used in the fit_function, e.g., `energy`, `E`.
          This should comply to the following naming rules (similar to python's naming rules):

            * A variable name must start with a letter or the underscore character
            * A variable name cannot start with a number
            * A variable name can only contain alpha-numeric characters and underscores (A-z, 0-9, and _ )
            * Variable names are case-sensitive (age, Age and AGE are three different variables)

    .. _/NXcalibration/original_axis@input_path-attribute:

    .. index:: input_path (field attribute)

    **@input_path**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

      .. collapse:: The path from which this data is derived, e.g., raw detector axis. ...

          The path from which this data is derived, e.g., raw detector axis.
          Should be a valid NeXus path name, e.g., /entry/instrument/detector/raw.

  .. _/NXcalibration/input_SYMBOL-field:

  .. index:: input_SYMBOL (field)

  **input_SYMBOL**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` (Rank: 1, Dimensions: [ncal]) {units=\ :ref:`NX_ANY <NX_ANY>`} 

    .. collapse:: Additional input axis to be used in the formula. ...

        Additional input axis to be used in the formula.
        The part after `input_` is used as the symbol to be used in the `fit_function`, i.e.,
        if the field name is `input_my_field` you should refer to this axis by `my_field` in the `fit_function`.

    .. _/NXcalibration/input_SYMBOL@input_path-attribute:

    .. index:: input_path (field attribute)

    **@input_path**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

      .. collapse:: The path from which this data is derived, e.g., raw detector axis. ...

          The path from which this data is derived, e.g., raw detector axis.
          Should be a valid NeXus path name, e.g., /entry/instrument/detector/raw.

  .. _/NXcalibration/coefficients-field:

  .. index:: coefficients (field)

  **coefficients**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` (Rank: 1, Dimensions: [ncoeff]) {units=\ :ref:`NX_ANY <NX_ANY>`} 

    .. collapse:: For non-linear energy calibrations, e.g. in a TOF, a polynomial function is fi ...

        For non-linear energy calibrations, e.g. in a TOF, a polynomial function is fit
        to a set of features (peaks) at well defined energy positions to determine
        E(TOF). Here we can store the array of fit coefficients.

  .. _/NXcalibration/fit_function-field:

  .. index:: fit_function (field)

  **fit_function**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

    .. collapse:: For non-linear energy calibrations. Here we can store the formula of the ...

        For non-linear energy calibrations. Here we can store the formula of the
        fit function.

        Use a0, a1, ..., an for the coefficients, corresponding to the values in the coefficients field.

        Use x0, x1, ..., xn for the nth position in the `original_axis` field.
        If there is the symbol attribute specified for the `original_axis` this may be used instead of x.
        If you want to use the whole axis use `x`.
        Alternate axis can also be available as specified by the `input_SYMBOL` field.
        The data should then be referred here by the `SYMBOL` name, e.g., for a field
        name `input_my_field` it should be referred here by `my_field` or `my_field0` if
        you want to read the zeroth element of the array.

        The formula should be numpy compliant.

  .. _/NXcalibration/scaling-field:

  .. index:: scaling (field)

  **scaling**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_ANY <NX_ANY>`} 

    .. collapse:: For linear calibration. Scaling parameter. ...

        For linear calibration. Scaling parameter.
        This should yield the relation `calibrated_axis` = `scaling` * `original_axis` + `offset`.

  .. _/NXcalibration/offset-field:

  .. index:: offset (field)

  **offset**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_ANY <NX_ANY>`} 

    .. collapse:: For linear calibration. Offset parameter. ...

        For linear calibration. Offset parameter.
        This should yield the relation `calibrated_axis` = `scaling` * `original_axis` + `offset`.

  .. _/NXcalibration/mapping_MAPPING-field:

  .. index:: mapping_MAPPING (field)

  **mapping_MAPPING**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` 

    .. collapse:: Mapping data for calibration. ...

        Mapping data for calibration.

        This can be used to map data points from uncalibrated to calibrated values,
        i.e., by multiplying each point in the input axis by the corresponding point in the mapping data.

  .. _/NXcalibration/calibrated_axis-field:

  .. index:: calibrated_axis (field)

  **calibrated_axis**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` (Rank: 1, Dimensions: [ncal]) {units=\ :ref:`NX_ANY <NX_ANY>`} 

    A vector representing the axis after calibration, matching the data length

    .. _/NXcalibration/calibrated_axis@output_path-attribute:

    .. index:: output_path (field attribute)

    **@output_path**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

      .. collapse:: The path to which this data is written, e.g., the calibrated energy. ...

          The path to which this data is written, e.g., the calibrated energy.
          Should be a valid NeXus path name, e.g., /entry/data/energy.

  .. _/NXcalibration/calibration_method-group:

  **calibration_method**: (optional) :ref:`NXidentifier` 

    .. collapse:: A digital persistent identifier (e.g., DOI, ISO standard) referring to a detai ...

        A digital persistent identifier (e.g., DOI, ISO standard) referring to a detailed description of a
        calibration method but no actual calibration data.

  .. _/NXcalibration/calibration_reference-group:

  **calibration_reference**: (optional) :ref:`NXidentifier` 

    .. collapse:: A digital persistent identifier (e.g., a DOI) referring to a publicly availabl ...

        A digital persistent identifier (e.g., a DOI) referring to a publicly available calibration measurement
        used for this instrument, e.g., a measurement of a known standard containing calibration information.
        The axis values may be copied or linked in the appropriate NXcalibration fields for reference.

  .. _/NXcalibration/calibration_object-group:

  **calibration_object**: (optional) :ref:`NXserialized` 

    .. collapse:: A file serialisation of a calibration which may not be publicly available (ext ...

        A file serialisation of a calibration which may not be publicly available (externally from the nexus file).

        This metadata can be a documentation of the source (file) or database (entry) from which pieces
        of information have been extracted for consumption (e.g. in a research data management system (RDMS)).
        It is also possible to include the actual file by using the `file` field.

        The axis values may be copied or linked in the appropriate NXcalibration fields for reference.

  .. _/NXcalibration/DATA-group:

  **DATA**: (optional) :ref:`NXdata` 

    .. collapse:: Any data acquired/used during the calibration that does not fit the `NX_FLOAT` ...

        Any data acquired/used during the calibration that does not fit the `NX_FLOAT` fields above.
        NXdata groups can be used for multidimensional data which are relevant to the calibration


Hypertext Anchors
-----------------

List of hypertext anchors for all groups, fields,
attributes, and links defined in this class.


* :ref:`/NXcalibration/applied-field </NXcalibration/applied-field>`
* :ref:`/NXcalibration/calibrated_axis-field </NXcalibration/calibrated_axis-field>`
* :ref:`/NXcalibration/calibrated_axis@output_path-attribute </NXcalibration/calibrated_axis@output_path-attribute>`
* :ref:`/NXcalibration/calibration_method-group </NXcalibration/calibration_method-group>`
* :ref:`/NXcalibration/calibration_object-group </NXcalibration/calibration_object-group>`
* :ref:`/NXcalibration/calibration_reference-group </NXcalibration/calibration_reference-group>`
* :ref:`/NXcalibration/calibration_software-field </NXcalibration/calibration_software-field>`
* :ref:`/NXcalibration/calibration_software@version-attribute </NXcalibration/calibration_software@version-attribute>`
* :ref:`/NXcalibration/coefficients-field </NXcalibration/coefficients-field>`
* :ref:`/NXcalibration/DATA-group </NXcalibration/DATA-group>`
* :ref:`/NXcalibration/description-field </NXcalibration/description-field>`
* :ref:`/NXcalibration/fit_function-field </NXcalibration/fit_function-field>`
* :ref:`/NXcalibration/input_SYMBOL-field </NXcalibration/input_SYMBOL-field>`
* :ref:`/NXcalibration/input_SYMBOL@input_path-attribute </NXcalibration/input_SYMBOL@input_path-attribute>`
* :ref:`/NXcalibration/last_process-field </NXcalibration/last_process-field>`
* :ref:`/NXcalibration/mapping_MAPPING-field </NXcalibration/mapping_MAPPING-field>`
* :ref:`/NXcalibration/offset-field </NXcalibration/offset-field>`
* :ref:`/NXcalibration/original_axis-field </NXcalibration/original_axis-field>`
* :ref:`/NXcalibration/original_axis@input_path-attribute </NXcalibration/original_axis@input_path-attribute>`
* :ref:`/NXcalibration/original_axis@symbol-attribute </NXcalibration/original_axis@symbol-attribute>`
* :ref:`/NXcalibration/physical_quantity-field </NXcalibration/physical_quantity-field>`
* :ref:`/NXcalibration/scaling-field </NXcalibration/scaling-field>`
* :ref:`/NXcalibration@default-attribute </NXcalibration@default-attribute>`

**NXDL Source**:
  https://github.com/FAIRmat-NFDI/nexus_definitions/tree/fairmat/contributed_definitions/NXcalibration.nxdl.xml
