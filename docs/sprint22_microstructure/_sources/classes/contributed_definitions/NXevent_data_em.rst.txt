.. auto-generated by dev_tools.docs.nxdl from the NXDL source contributed_definitions/NXevent_data_em.nxdl.xml -- DO NOT EDIT

.. index::
    ! NXevent_data_em (base class)
    ! event_data_em (base class)
    see: event_data_em (base class); NXevent_data_em

.. _NXevent_data_em:

===============
NXevent_data_em
===============

**Status**:

  base class, extends :ref:`NXobject`

**Description**:

  .. collapse:: Base class to store state and (meta)data of events with an electron microscopy. ...

      Base class to store state and (meta)data of events with an electron microscopy.

      Electron microscopes are dynamic. Scientists often report that microscopes
      *perform differently* across sessions, that they perform differently from
      one day or another. In some cases, root causes for performance differences
      are unclear. Users of the instrument may consider such conditions impractical,
      or *too poor*, and thus abort their session. Alternatively, users may try to
      bring the microscope into a state where conditions are considered better
      or of whatever high enough quality for continuing the measurement.

      In all these use cases in practice it would be useful to have a mechanism
      whereby time-dependent data of the instrument state can be stored and
      documented with an interoperable representation. Indeed, how a session on an
      electron microscope is spent depends strongly on the research question,
      the user, and the imaging modalities used.

      :ref:`NXevent_data_em` represents an instance to describe and serialize flexibly
      whatever is considered a time interval during which the instrument is
      considered as stable enough for performing a task with the microscope.
      Examples of such tasks are the collecting of data (images and spectra) or
      the calibrating of some component of the instrument. Users may wish to take
      only a single scan or image and complete their microscope session thereafter.
      Alternatively, users are working for much longer time at the microscope,
      perform recalibrations in between and take several scans (of different
      regions-of-interest of the specimen), or they explore the state of the
      microscope for service or maintenance tasks.

      :ref:`NXevent_data_em` serves the harmonization and documentation of this situation
      with providing three key sections: Firstly, there is a header section whose
      purpose is to contextualize and identify the event instance in time.
      Secondly, there is a data and metadata section where individual data collections
      can be stored using a standardized representation.

      The idea of the first, the event-based em_lab section, is to document the
      state of the microscope as it was during the event. The idea of the other,
      the NXem application based em_lab(NXinstrument) section is to keep all those
      pieces of information which are static in the sense that they are the same
      across multiple :ref:`NXevent_data_em` instance. This reduces the amount of pieces of
      information that have to be stored repetitively.

      We are aware of the fact that given the variety how an electron microscope 
      is used, there is a need for a flexible and adaptive documentation system.
      At the same time we are also convinced though that just because one has
      different requirements for some specific aspect under the umbrella of settings
      to an electron microscope, this does not necessarily warrant that one has to
      cook up an own schema.

      Instead, the electron microscopy community should work towards reusing schema
      components as frequently as possible. This will enable that there is at all
      not only a value of harmonizing electron microscopy research content but also
      the technical possibility to build services around such harmonized
      pieces of information.

      Arguably it is oftentimes tricky to specify a clear time interval when the
      microscope is *stable enough*. Take for instance the acquisition of an image
      or a stack of spectra. Having to deal with instabilities is a common theme in
      electron microscopy practice. Numerical protocols can be used during data
      post-processing to correct for some of the instabilities.
      A few exemplar references to provide an overview on the subject is 
      available in the literature:

      * `C. Ophus et al. <https://dx.doi.org/10.1016/j.ultramic.2015.12.002>`_
      * `B. Berkels et al. <https://doi.org/10.1016/j.ultramic.2018.12.016>`_
      * `L. Jones et al. <https://link.springer.com/article/10.1186/s40679-015-0008-4>`_

      For specific simulation purposes, mainly in an effort to digitally repeat
      or simulate the experiment, it is tempting to consider dynamics of the instrument,
      implemented as time-dependent functional descriptions of e.g. lens excitations,
      beam shape functions, trajectories of groups of electrons and ions,
      or detector noise models. This warrants to document the time-dependent
      details of individual components of the microscope
      as is implemented in :ref:`NXevent_data_em`.

**Symbols**:

  No symbol table

**Groups cited**:
  :ref:`NXchamber`, :ref:`NXdetector`, :ref:`NXebeam_column`, :ref:`NXibeam_column`, :ref:`NXimage_c_set`, :ref:`NXimage_r_set_diff`, :ref:`NXimage_r_set`, :ref:`NXinstrument`, :ref:`NXinteraction_vol_em`, :ref:`NXoptical_system_em`, :ref:`NXpump`, :ref:`NXspectrum_set`, :ref:`NXstage_lab`, :ref:`NXuser`

.. index:: NXimage_r_set_diff (base class); used in base class, NXimage_r_set (base class); used in base class, NXimage_c_set (base class); used in base class, NXspectrum_set (base class); used in base class, NXinstrument (base class); used in base class, NXchamber (base class); used in base class, NXebeam_column (base class); used in base class, NXibeam_column (base class); used in base class, NXoptical_system_em (base class); used in base class, NXdetector (base class); used in base class, NXpump (base class); used in base class, NXstage_lab (base class); used in base class, NXuser (base class); used in base class, NXinteraction_vol_em (base class); used in base class

**Structure**:

  .. _/NXevent_data_em/start_time-field:

  .. index:: start_time (field)

  **start_time**: (optional) :ref:`NX_DATE_TIME <NX_DATE_TIME>` 

    .. collapse:: ISO 8601 time code with local time zone offset to UTC information included ...

        ISO 8601 time code with local time zone offset to UTC information included
        when the snapshot time interval started. If the user wishes to specify an
        interval of time that the snapshot should represent during which the instrument
        was stable and configured using specific settings and calibrations,
        the start_time is the start (left bound of the time interval) while
        the end_time specifies the end (right bound) of the time interval.

  .. _/NXevent_data_em/end_time-field:

  .. index:: end_time (field)

  **end_time**: (optional) :ref:`NX_DATE_TIME <NX_DATE_TIME>` 

    .. collapse:: ISO 8601 time code with local time zone offset to UTC information included ...

        ISO 8601 time code with local time zone offset to UTC information included
        when the snapshot time interval ended.

  .. _/NXevent_data_em/event_identifier-field:

  .. index:: event_identifier (field)

  **event_identifier**: (optional) :ref:`NX_INT <NX_INT>` {units=\ :ref:`NX_UNITLESS <NX_UNITLESS>`} 

    Identifier of a specific state and setting of the microscope.

  .. _/NXevent_data_em/event_type-field:

  .. index:: event_type (field)

  **event_type**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

    .. collapse:: Which specific event/measurement type. Examples are: ...

        Which specific event/measurement type. Examples are:

        * In-lens/backscattered electron, usually has quadrants
        * Secondary_electron, image, topography, fractography, overview images
        * Backscattered_electron, image, Z or channeling contrast (ECCI)
        * Bright_field, image, TEM
        * Dark_field, image, crystal defects
        * Annular dark field, image (medium- or high-angle), TEM
        * Diffraction, image, TEM, or a comparable technique in the SEM
        * Kikuchi, image, SEM EBSD and TEM diffraction
        * X-ray spectra (point, line, surface, volume), composition EDS/EDX(S)
        * Electron energy loss spectra for points, lines, surfaces, TEM
        * Auger, spectrum, (low Z contrast element composition)
        * Cathodoluminescence (optical spectra)
        * Ronchigram, image, alignment utility specifically in TEM
        * Chamber, e.g. TV camera inside the chamber, education purposes.

        This field may also be used for storing additional information
        about the event. For which there is at the moment no other place.

        In the long run such free-text field description should be avoided as
        they are difficult to machine-interpret. Instead, reference should be given
        to refactoring these descriptions into structured metadata.
        The reason why in this base class the field event_type is nonetheless kept
        is to offer a place whereby practically users may enter data for
        follow-up modifications to support arriving at an improved :ref:`NXevent_data_em` base class.

  .. _/NXevent_data_em/IMAGE_R_SET_DIFF-group:

  **IMAGE_R_SET_DIFF**: (optional) :ref:`NXimage_r_set_diff` 


  .. _/NXevent_data_em/IMAGE_R_SET-group:

  **IMAGE_R_SET**: (optional) :ref:`NXimage_r_set` 


  .. _/NXevent_data_em/IMAGE_C_SET-group:

  **IMAGE_C_SET**: (optional) :ref:`NXimage_c_set` 


  .. _/NXevent_data_em/SPECTRUM_SET-group:

  **SPECTRUM_SET**: (optional) :ref:`NXspectrum_set` 


  .. _/NXevent_data_em/em_lab-group:

  **em_lab**: (optional) :ref:`NXinstrument` 

    (Meta)data of the dynamics and changes of the microscope during the event.

    .. _/NXevent_data_em/em_lab/CHAMBER-group:

    **CHAMBER**: (optional) :ref:`NXchamber` 


    .. _/NXevent_data_em/em_lab/EBEAM_COLUMN-group:

    **EBEAM_COLUMN**: (optional) :ref:`NXebeam_column` 


    .. _/NXevent_data_em/em_lab/IBEAM_COLUMN-group:

    **IBEAM_COLUMN**: (optional) :ref:`NXibeam_column` 


    .. _/NXevent_data_em/em_lab/OPTICAL_SYSTEM_EM-group:

    **OPTICAL_SYSTEM_EM**: (optional) :ref:`NXoptical_system_em` 


    .. _/NXevent_data_em/em_lab/DETECTOR-group:

    **DETECTOR**: (optional) :ref:`NXdetector` :ref:`⤆ </NXinstrument/DETECTOR-group>`


    .. _/NXevent_data_em/em_lab/PUMP-group:

    **PUMP**: (optional) :ref:`NXpump` 


    .. _/NXevent_data_em/em_lab/STAGE_LAB-group:

    **STAGE_LAB**: (optional) :ref:`NXstage_lab` 


  .. _/NXevent_data_em/USER-group:

  **USER**: (optional) :ref:`NXuser` 


  .. _/NXevent_data_em/INTERACTION_VOL_EM-group:

  **INTERACTION_VOL_EM**: (optional) :ref:`NXinteraction_vol_em` 



Hypertext Anchors
-----------------

List of hypertext anchors for all groups, fields,
attributes, and links defined in this class.


* :ref:`/NXevent_data_em/em_lab-group </NXevent_data_em/em_lab-group>`
* :ref:`/NXevent_data_em/em_lab/CHAMBER-group </NXevent_data_em/em_lab/CHAMBER-group>`
* :ref:`/NXevent_data_em/em_lab/DETECTOR-group </NXevent_data_em/em_lab/DETECTOR-group>`
* :ref:`/NXevent_data_em/em_lab/EBEAM_COLUMN-group </NXevent_data_em/em_lab/EBEAM_COLUMN-group>`
* :ref:`/NXevent_data_em/em_lab/IBEAM_COLUMN-group </NXevent_data_em/em_lab/IBEAM_COLUMN-group>`
* :ref:`/NXevent_data_em/em_lab/OPTICAL_SYSTEM_EM-group </NXevent_data_em/em_lab/OPTICAL_SYSTEM_EM-group>`
* :ref:`/NXevent_data_em/em_lab/PUMP-group </NXevent_data_em/em_lab/PUMP-group>`
* :ref:`/NXevent_data_em/em_lab/STAGE_LAB-group </NXevent_data_em/em_lab/STAGE_LAB-group>`
* :ref:`/NXevent_data_em/end_time-field </NXevent_data_em/end_time-field>`
* :ref:`/NXevent_data_em/event_identifier-field </NXevent_data_em/event_identifier-field>`
* :ref:`/NXevent_data_em/event_type-field </NXevent_data_em/event_type-field>`
* :ref:`/NXevent_data_em/IMAGE_C_SET-group </NXevent_data_em/IMAGE_C_SET-group>`
* :ref:`/NXevent_data_em/IMAGE_R_SET-group </NXevent_data_em/IMAGE_R_SET-group>`
* :ref:`/NXevent_data_em/IMAGE_R_SET_DIFF-group </NXevent_data_em/IMAGE_R_SET_DIFF-group>`
* :ref:`/NXevent_data_em/INTERACTION_VOL_EM-group </NXevent_data_em/INTERACTION_VOL_EM-group>`
* :ref:`/NXevent_data_em/SPECTRUM_SET-group </NXevent_data_em/SPECTRUM_SET-group>`
* :ref:`/NXevent_data_em/start_time-field </NXevent_data_em/start_time-field>`
* :ref:`/NXevent_data_em/USER-group </NXevent_data_em/USER-group>`

**NXDL Source**:
  https://github.com/FAIRmat-NFDI/nexus_definitions/tree/fairmat/contributed_definitions/NXevent_data_em.nxdl.xml
