


<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2.3.3.1.62. NXpid_controller &#8212; NeXus-FAIRmat v2024.02 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=88eabb7f" />
    <link rel="stylesheet" type="text/css" href="../../_static/to_alabaster.css?v=30f5938c" />
    <link rel="stylesheet" type="text/css" href="../../_static/details_summary_hide.css?v=30df4bca" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../../_static/bolditalic.css?v=504f8cd9" />
    <link rel="stylesheet" href="../../_static/blockquote.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/rubric.css" type="text/css" />
    <script src="../../_static/documentation_options.js?v=04096e4a"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="2.3.3.1.63. NXpinhole" href="NXpinhole.html" />
    <link rel="prev" title="2.3.3.1.61. NXpeak" href="NXpeak.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="nxpid-controller">
<span id="index-0"></span><span id="id1"></span><h1><span class="section-number">2.3.3.1.62. </span>NXpid_controller<a class="headerlink" href="#nxpid-controller" title="Link to this heading">¶</a></h1>
<p><strong>Status</strong>:</p>
<blockquote>
<div><p>base class, extends <a class="reference internal" href="NXcomponent.html#nxcomponent"><span class="std std-ref">NXcomponent</span></a></p>
</div></blockquote>
<p><strong>Description</strong>:</p>
<blockquote>
<div><details class="summary-a-description-of-a-feedback-system-in-terms-of-the-settings-of-a-proportional-in">
<summary>A description of a feedback system in terms of the settings of a proportional-in ...</summary><p>A description of a feedback system in terms of the settings of a proportional-integral-derivative (PID) controller.</p>
<p>Automated control of a physical quantity is often achieved by connecting the output of a sensor to an actuator
(e.g. using a thermocouple to monitor the effect of a heater and influence the power provided to it). The physical
quantity being operated on is typically referred to as the “Process Variable”, with the desired value being the
“Setpoint” (which may vary as a function of time) and the “Error Value” is the time-varying function of the difference
between the Setpoint value and the concurrent measurement of the Process Variable  (Error Value = Setpoint - Process Variable).</p>
<p>A PID controller calculates an output value for use as an input signal to an actuator via the weighted sum of four terms:
* Proportional: the current Error Value
* Integral: the integral of the Error Value function
* Derivative: the first derivative of the Error Value function
* Feed Forward: A model of the physical system (optional)</p>
<p>The weightings of these terms are given by the corresponding constants:
* K_p
* K_i
* K_d
* K_ff</p>
<p>A classic PID controller only implements the P, I and D terms and the values of the K_p, K_i and K_d constants are sufficient to fully
describe the behaviour of the feedback system implemented by such a PID controller. The inclusion of a Feed Forward term in a feedback system
is a modern adaptation that aids optimization of the automated control. It is not present in all PID controllers, but it is also not uncommon.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">NXpid_controller</span></code> is designed to be a child object of the actuator that its output is connected to. The parent object
representing the actuator is likely to be represented by an <code class="docutils literal notranslate"><span class="pre">NXactuator</span></code> or <code class="docutils literal notranslate"><span class="pre">NXpositioner</span></code> base class, but there is a wide variety
of possible applications for PID controllers.</p>
</details></div></blockquote>
<p><strong>Symbols</strong>:</p>
<blockquote>
<div><p>No symbol table</p>
</div></blockquote>
<dl class="simple">
<dt><strong>Groups cited</strong>:</dt><dd><p><a class="reference internal" href="NXlog.html#nxlog"><span class="std std-ref">NXlog</span></a>, <a class="reference internal" href="NXsensor.html#nxsensor"><span class="std std-ref">NXsensor</span></a></p>
</dd>
</dl>
<p id="index-1"><strong>Structure</strong>:</p>
<blockquote>
<div><p id="index-2"><span id="nxpid-controller-description-field"></span><strong>description</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a> <a class="reference internal" href="NXcomponent.html#nxcomponent-description-field"><span class="std std-ref">⤆</span></a></p>
<blockquote>
<div><details class="summary-description-of-how-the-process-value-for-the-pid-controller-is-produced-by-sen">
<summary>Description of how the Process Value for the PID controller is produced by sen ...</summary><p>Description of how the Process Value for the PID controller is produced by sensor(s) in the setup.</p>
<p>For example, a set of sensors could be averaged over before feeding it back into the loop.</p>
</details></div></blockquote>
<p id="index-3"><span id="nxpid-controller-setpoint-field"></span><strong>setpoint</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-any"><span class="std std-ref">NX_ANY</span></a>}</p>
<blockquote>
<div><details class="summary-the-setpoint-s-used-as-an-input-for-the-pid-controller">
<summary>The Setpoint(s) used as an input for the PID controller. ...</summary><p>The Setpoint(s) used as an input for the PID controller.</p>
<p>It can also be a link to an <code class="docutils literal notranslate"><span class="pre">NXsensor.value</span></code> field.</p>
</details></div></blockquote>
<p id="index-4"><span id="nxpid-controller-k-p-field"></span><strong>K_p</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div><details class="summary-proportional-gain-constant-this-constant-determines-how-strongly-the-output-v">
<summary>Proportional gain constant. This constant determines how strongly the output v ...</summary><p>Proportional gain constant. This constant determines how strongly the output value
directly follows the current Error Value. When this constant dominates, the output
value is linearly proportional to the Error Value.</p>
</details></div></blockquote>
<p id="index-5"><span id="nxpid-controller-k-i-field"></span><strong>K_i</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div><details class="summary-integral-gain-constant-this-constant-determines-how-strongly-the-output-value">
<summary>Integral gain constant. This constant determines how strongly the output value ...</summary><p>Integral gain constant. This constant determines how strongly the output value
should react to an accumulated offset in the Error Value that should have
been corrected previously. since the integral term is proportional to both
the magnitude and persistence of the Error Value over time.</p>
</details></div></blockquote>
<p id="index-6"><span id="nxpid-controller-k-d-field"></span><strong>K_d</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div><details class="summary-derivative-gain-constant-this-constant-determines-how-much-the-feedback-syste">
<summary>Derivative gain constant. This constant determines how much the feedback syste ...</summary><p>Derivative gain constant. This constant determines how much the feedback system
should anticipate the future value of the Error Value function through adjustment of the
output value that is proportional to the rate of change (i.e. derivative) of the Error Value.
This term is important for damping oscillations in the feedback system.</p>
</details></div></blockquote>
<p id="index-7"><span id="nxpid-controller-k-ff-field"></span><strong>K_ff</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div><details class="summary-feed-forward-gain-constant-this-constant-determines-how-much-the-feedback-sys">
<summary>Feed Forward gain constant. This constant determines how much the feedback sys ...</summary><p>Feed Forward gain constant. This constant determines how much the feedback system
should rely on a calculated output value to achieve the desired Process Variable value.
A Feed Forward system uses a model of the physical system to calculate an appropriate
output value to achieve a desired Setpoint value. A description of this model should be provided
in the <code class="docutils literal notranslate"><span class="pre">feed_forward_model</span></code> field.</p>
</details></div></blockquote>
<p id="index-8"><span id="nxpid-controller-feed-forward-model-field"></span><strong>feed_forward_model</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><details class="summary-a-description-of-the-model-used-for-the-feed-forward-part-of-the-feedback-syst">
<summary>A description of the model used for the Feed Forward part of the feedback syst ...</summary><p>A description of the model used for the Feed Forward part of the feedback system. Note that such models typically
involve the Setpoint value, but not the Error Value. The simplest model is simply proportional to the Setpoint value.
For example, the position (Process Variable) of a sample is measured by a a linear optical encoder (sensor) and
manipulated by a piezoelectric scanning stage (actuator). The corresponding Feed Forward model could be that the
output value (voltage applied to the piezo) is proportional to the Setpoint value (measured position of the sample).</p>
<p>A complex model could involve any number of input variables, mathematical functions, and coefficients in order to
describe the physical system relevant to the PID controller.</p>
</details></div></blockquote>
<p id="index-9"><span id="nxpid-controller-control-action-field"></span><strong>control_action</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><details class="summary-the-error-value-of-pid-feedback-system-is-normally-constructed-in-terms-of-the">
<summary>The Error Value of PID feedback system is normally constructed in terms of the ...</summary><p>The Error Value of PID feedback system is normally constructed in terms of the correction needed to bring
the Process Variable towards a match with the Setpoint. This “direct” control action means that a measurement of
the Process Variable that is lower than the Setpoint results in a positive Error Value and a generally positive
control output that tells the actuator to push the value of the Process Variable upwards. In some implementations,
the actuator will respond to a more positive control output by pushing the Process Variable towards lower values (e.g.
a Peltier cooler) and so the output of the feedback system must be reversed to match the behaviour of the physical system.
A feedback system may also be implemented with reverse action in order to ensure that failures (e.g. disconnected sensor
output or actuator input) result in a safe state (e.g. a valve should be left open to release pressure).</p>
<p>Any of these values: <code class="docutils literal notranslate"><span class="pre">direct</span></code> | <code class="docutils literal notranslate"><span class="pre">reverse</span></code></p>
</details></div></blockquote>
<p id="nxpid-controller-pv-sensor-group"><strong>pv_sensor</strong>: (optional) <a class="reference internal" href="NXsensor.html#nxsensor"><span class="std std-ref">NXsensor</span></a></p>
<blockquote>
<div><details class="summary-the-sensor-representing-the-process-value-used-in-the-feedback-loop-for-the-pi">
<summary>The sensor representing the Process Value used in the feedback loop for the PI ...</summary><p>The sensor representing the Process Value used in the feedback loop for the PID.</p>
<p>In case multiple sensors were used, this NXsensor should contain the proper calculated/aggregated value.</p>
</details><p id="nxpid-controller-pv-sensor-value-log-group"><strong>value_log</strong>: (optional) <a class="reference internal" href="NXlog.html#nxlog"><span class="std std-ref">NXlog</span></a> <a class="reference internal" href="NXsensor.html#nxsensor-value-log-group"><span class="std std-ref">⤆</span></a></p>
<blockquote>
<div><p id="index-10"><span id="nxpid-controller-pv-sensor-value-log-value-field"></span><strong>value</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a> <a class="reference internal" href="NXlog.html#nxlog-value-field"><span class="std std-ref">⤆</span></a></p>
<blockquote>
<div><p>The actual timeseries data fed back into the PID controller.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<section id="hypertext-anchors">
<h2>Hypertext Anchors<a class="headerlink" href="#hypertext-anchors" title="Link to this heading">¶</a></h2>
<p>List of hypertext anchors for all groups, fields,
attributes, and links defined in this class.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nxpid-controller-control-action-field"><span class="std std-ref">/NXpid_controller/control_action-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxpid-controller-description-field"><span class="std std-ref">/NXpid_controller/description-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxpid-controller-feed-forward-model-field"><span class="std std-ref">/NXpid_controller/feed_forward_model-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxpid-controller-k-d-field"><span class="std std-ref">/NXpid_controller/K_d-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxpid-controller-k-ff-field"><span class="std std-ref">/NXpid_controller/K_ff-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxpid-controller-k-i-field"><span class="std std-ref">/NXpid_controller/K_i-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxpid-controller-k-p-field"><span class="std std-ref">/NXpid_controller/K_p-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxpid-controller-pv-sensor-group"><span class="std std-ref">/NXpid_controller/pv_sensor-group</span></a></p></li>
<li><p><a class="reference internal" href="#nxpid-controller-pv-sensor-value-log-group"><span class="std std-ref">/NXpid_controller/pv_sensor/value_log-group</span></a></p></li>
<li><p><a class="reference internal" href="#nxpid-controller-pv-sensor-value-log-value-field"><span class="std std-ref">/NXpid_controller/pv_sensor/value_log/value-field</span></a></p></li>
<li><p><a class="reference internal" href="#nxpid-controller-setpoint-field"><span class="std std-ref">/NXpid_controller/setpoint-field</span></a></p></li>
</ul>
<dl class="simple">
<dt><strong>NXDL Source</strong>:</dt><dd><p><a class="reference external" href="https://github.com/FAIRmat-NFDI/nexus_definitions/tree/fairmat/base_classes/NXpid_controller.nxdl.xml">https://github.com/FAIRmat-NFDI/nexus_definitions/tree/fairmat/base_classes/NXpid_controller.nxdl.xml</a></p>
</dd>
</dl>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/FAIRmat_new.png" alt="Logo of NeXus-FAIRmat"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">NeXus-FAIRmat</a></h1>



<p class="blurb">Proposal of NeXus expansion for FAIRmat data.</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=FAIRmat-NFDI&repo=nexus_definitions&type=watch&count=false&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../fairmat-cover.html">1. FAIRmat-NeXus Proposal</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nexus-index.html">2. NeXus Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../user_manual.html">2.1. NeXus: User Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html">2.2. NeXus: Example data files I/O</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../ref_doc.html">2.3. NeXus: Reference Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community.html">2.4. NeXus Community</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html">2.5. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../utilities.html">2.6. NeXus Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../docs_about.html">2.7. About these docs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../em-structure.html">3. Electron microscopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mpes-structure.html">4. Photoemission &amp; core-level spectroscopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../optical-spectroscopy-structure.html">5. Optical spectroscopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apm-structure.html">6. Atom-probe tomography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../transport-structure.html">7. Transport phenomena</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spm-structure.html">8. Scanning Probe Microscopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cgms-structure.html">9. Geometry and microstructures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../north-structure.html">10. NOMAD OASIS Remote Tools Hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../laboratory-structure.html">11. Sample preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../icme-structure.html">12. Integrated Computational Materials Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../napi.html">13. NAPI: NeXus Application Programmer Interface (frozen)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../history.html">14. Brief history of NeXus</a></li>
</ul>


  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">2.3.3.1.62. NXpid_controller</a><ul>
<li><a class="reference internal" href="#hypertext-anchors">Hypertext Anchors</a></li>
</ul>
</li>
</ul>

  </div><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../../nexus-index.html"><span class="section-number">2. </span>NeXus Documentation</a><ul>
  <li><a href="../../ref_doc.html"><span class="section-number">2.3. </span>NeXus: Reference Documentation</a><ul>
  <li><a href="../index.html"><span class="section-number">2.3.3. </span>NeXus Class Definitions</a><ul>
  <li><a href="index.html"><span class="section-number">2.3.3.1. </span>Base Class Definitions</a><ul>
      <li>Previous: <a href="NXpeak.html" title="previous chapter"><span class="section-number">2.3.3.1.61. </span>NXpeak</a></li>
      <li>Next: <a href="NXpinhole.html" title="next chapter"><span class="section-number">2.3.3.1.63. </span>NXpinhole</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <p>Have a Question? <a href="https://github.com/nexusformat/definitions/issues/new">Get help</a></p>
    <ul class="this-page-menu">
    <style>
		  .avatar-container {
		    display: flex;
		    align-items: center;
		  }
		
		  .avatar {
		    width: 32px;
		    height: 32px;
		    border-radius: 50%;
		    margin-right: 5px;
		  }
		</style>
		
    
    
		<div class="avatar-container">
      
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
<div id="google_search" style="display: none">
	<hr />
	<h3>Google search</h3>
	<form method="get" action="https://www.google.com/search">
		<table border="0" align="center" cellpadding="0">
			<tr>
				<td>
					<input type="text"   name="q" value="" />
				</td>
			</tr>
			<tr>
				<td align="center" style="font-size:75%">
					<input type="radio"  name="sitesearch" value="" />global
					<input type="radio"  name="sitesearch"
						value="manual.nexusformat.org" 
						checked />NeXus manual
					<input type="submit" value="Go" />
					<br />
				</td>
			</tr>
		</table>
	</form>                                
</div>
<script type="text/javascript">$('#google_search').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2022-2025, The FAIRmat collaboration.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../../_sources/classes/base_classes/NXpid_controller.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>