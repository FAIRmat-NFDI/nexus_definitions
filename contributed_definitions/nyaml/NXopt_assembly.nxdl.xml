<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<!--
# NeXus - Neutron and X-ray Common Data Format
#
# Copyright (C) 2014-2024 NeXus International Advisory Committee (NIAC)
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 3 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# For further information, see http://www.nexusformat.org
-->
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" category="base" name="NXopt_assembly" extends="NXobject" type="group" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
    <symbols>
        <doc>
             Variables used throughout the document, e.g. dimensions or parameters.
        </doc>
        <symbol name="N_variables">
            <doc>
                 Length of the array associated to the data type.
            </doc>
        </symbol>
    </symbols>
    <doc>
         Contains datastructures of an experimental optical setup (i.e., multiple transfermatrix tables).
         These datastructures are used to relate physical properties of two beams
         
         (NXopt_beam) which have one common optical element (NXopt_element) (one 
         specific transfermatrix).
         One of these beams in an input beam and the other one is an output beam.
         
         The data describes the change of beam properties, e.g. the intensity of a beam is reduced because the transmission coefficient of the opt element is lower than 1.
    </doc>
    <field name="datatype_N">
        <doc>
             Select which type of data was recorded, for example aperture and
             focal length.
             It is possible to have multiple selections. This selection defines
             how many columns (N_variables) are stored in the data array.
             N in the name, is the index number in which order the given
             property is listed.
        </doc>
        <enumeration>
            <item value="aperture"/>
            <item value="focallength"/>
            <item value="orientation"/>
            <item value="jones matrix"/>
        </enumeration>
    </field>
    <field name="matrix_elements">
        <doc>
             Please list in this array the column and row names used in your actual data.
             That is in the case of aperture ['diameter'] or focal length ['focal_length_value']
             and for orientation matrix ['OM1', 'OM2', 'OM3'] or for jones matrix
             ['JM1','JM2']
        </doc>
        <dimensions rank="1">
            <dim index="1" value="N_variables"/>
        </dimensions>
    </field>
    <group type="NXtransfer_matrix_table">
        <doc>
             Contains the datastructure which relates beam properties of an 
             input and output beam as result of the input beam interaction
             with the optical element.
        </doc>
    </group>
</definition>
