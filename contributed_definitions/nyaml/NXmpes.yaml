doc: | 
  This is the most general application definition for multidimensional
  photoelectron spectroscopy.
category: application
uri: http://purl.org/pan-science/PaNET/PaNET01269
NXmpes:
  (NXentry):
    title:
    start_time(NX_DATE_TIME):
      doc: |
        Datetime of the start of the measurement.
    end_time(NX_DATE_TIME):
      doc: |
        Datetime of the end of the measurement.
    method:
      doc: |
        A name of the experimental method according
        to the `ISO 18115-1:2023`_ specification.
        
        .. _ISO 18115-1:2023: https://www.iso.org/standard/74811.html
    definition:
      \@version:
      enumeration: [NXmpes]
    (NXuser):
      exists: recommended
      doc: |
        Contact information of at least the user of the instrument or the investigator
        who performed this experiment. Adding multiple users if relevant is recommended.
      name:
        doc: |
          Name of the user.
      affiliation:
        exists: recommended
        doc: |
          Name of the affiliation of the user at the point in time when the experiment was
          performed.
      address:
        exists: recommended
        doc: |
          Full address (street, street number, ZIP, city, country) of the user's
          affiliation.
      email:
        doc: |
          Email address of the user.
      orcid:
        exists: recommended
        doc: |
          Author ID defined by https://orcid.org/.
    (NXinstrument):
      energy_resolution(NX_FLOAT):
        exists: recommended
        unit: NX_ENERGY
      source_beam(NXsource):
        doc: |
          The source used to generate the primary photons. Properties refer strictly to
          parameters of the source, not of the output beam. For example, the energy of the
          source is not the optical power of the beam, but the energy of the electron beam
          in a synchrotron and so on.
        type:
          enumeration: [Synchrotron X-ray Source, Rotating Anode X-ray, Fixed Tube X-ray, UV Laser, Free-Electron Laser, Optical Laser, UV Plasma Source, Metal Jet X-ray, HHG laser, UV lamp, Monochromatized electron source, other]
        type_other:
          doc: |
            Specification of type, may also go to name.
        name:
          exists: recommended
        probe:
          doc: |
            Type of probe. In photoemission it's always photons, so the full NIAC list is
            restricted.
          enumeration: [photons]
      beam_probe(NXbeam):
        distance(NX_NUMBER):
          exists: recommended
          unit: NX_LENGTH
          doc: |
            Distance of the point of evaluation of the beam from the sample surface.
        incident_energy(NX_FLOAT):
          unit: NX_ENERGY
        incident_energy_spread(NX_NUMBER):
          exists: recommended
          unit: NX_ENERGY
        incident_polarization(NX_NUMBER):
          exists: recommended
          unit: NX_ANY
      (NXelectronanalyser):
        model(NXfabrication):
          exists: recommended
          vendor:
            exists: recommended
          model:
            exists: recommended
          identifier:
            exists: recommended
        description:
        energy_resolution(NX_FLOAT):
          exists: recommended
          unit: NX_ENERGY
          doc: |
            Energy resolution of the analyser with the current setting. May be linked from a
            NXcalibration.
        fast_axes(NX_CHAR):
          exists: recommended
        slow_axes:
          exists: recommended
        (NXcollectioncolumn):
          scheme:
            doc: |
              Scheme of the electron collection column.
            enumeration: [standard, angular dispersive, selective area, deflector, PEEM, PEEM dark-field, LEEM, LEEM dark-field, LEED, dispersive plane, momentum microscope]
          mode:
            exists: recommended
          projection:
            exists: recommended
          field_aperture(NXaperture_em):
            doc: |
              The size and position of the field aperture inserted in the column. To add
              additional or other apertures use the APERTURE group of NXcollectioncolumn.
          contrast_aperture(NXaperture_em):
            doc: |
              The size and position of the contrast aperture inserted in the column. To add
              additional or other apertures use the APERTURE group of NXcollectioncolumn.
        (NXenergydispersion):
          scheme:
            enumeration: [tof, hemispherical, double hemispherical, cylindrical mirror, display mirror, retarding grid]
          pass_energy(NX_FLOAT):
            unit: NX_ENERGY
          energy_scan_mode:
          entrance_slit(NXaperture_em):
            doc: |
              Size, position and shape of the entrance slit in dispersive analyzers. To add
              additional or other slits use the APERTURE group of NXenergydispersion.
          exit_slit(NXaperture_em):
            doc: |
              Size, position and shape of the exit slit in dispersive analyzers. To add
              additional or other slits use the APERTURE group of NXenergydispersion.
        (NXdetector):
          amplifier_type:
            exists: recommended
            doc: |
              Type of electron amplifier in the first amplification step.
            enumeration: [MCP, channeltron]
          detector_type:
            exists: recommended
            doc: |
              Description of the detector type.
            enumeration: [DLD, Phosphor+CCD, Phosphor+CMOS, ECMOS, Anode, Multi-anode]
          (NXdata):
            exists: recommended
            \@signal:
              enumeration: [raw]
            raw(NX_NUMBER):
              doc: |
                Raw data before calibration.
      (NXmanipulator):
        doc: |
          Manipulator for positioning of the sample.
        sample_temperature(NX_FLOAT):
          exists: recommended
          unit: NX_TEMPERATURE
        drain_current(NX_FLOAT):
          exists: recommended
          unit: NX_CURRENT
        sample_bias(NX_FLOAT):
          exists: recommended
          unit: NX_CURRENT
    (NXprocess):
      exists: recommended
      doc: |
        Document an event of data processing, reconstruction, or analysis for this data.
        Describe the appropriate axis calibrations for your experiment using one or more
        of the following NXcalibrations
      energy_calibration(NXcalibration):
        applied(NX_BOOLEAN):
          doc: |
            Has an energy calibration been applied?
        calibrated_axis(NX_FLOAT):
          exists: recommended
          doc: |
            This is the calibrated energy axis to be used for data plotting.
      angular_calibration(NXcalibration):
        applied(NX_BOOLEAN):
          doc: |
            Has an angular calibration been applied?
        calibrated_axis(NX_FLOAT):
          exists: recommended
          doc: |
            This is the calibrated angular axis to be used for data plotting.
      spatial_calibration(NXcalibration):
        applied(NX_BOOLEAN):
          doc: |
            Has an spatial calibration been applied?
        calibrated_axis(NX_FLOAT):
          exists: recommended
          doc: |
            This is the calibrated spatial axis to be used for data plotting.
      momentum_calibration(NXcalibration):
        applied(NX_BOOLEAN):
          doc: |
            Has an momentum calibration been applied?
        calibrated_axis(NX_FLOAT):
          exists: recommended
          doc: |
            This is the momentum axis to be used for data plotting.
    (NXsample):
      name:
      chemical_formula:
        exists: recommended
        doc: |
          The chemical formula of the sample. For mixtures use the NXsample_component
          group in NXsample instead.
      sample_history(NXnote):
        exists: recommended
        doc: |
          A descriptor to keep track of the treatment of the sample before entering the
          photoemission experiment. Ideally, a full report of the previous operations, in
          any format (NXnote allows to add pictures, audio, movies). Alternatively, a
          reference to the location or a unique identifier or other metadata file. In the
          case these are not available, free-text description.
      atom_types:
        exists: recommended
        doc: |
          List of comma-separated elements from the periodic table
          that are contained in the sample.
          If the sample substance has multiple components, all
          elements from each component must be included in `atom_types`.
      preparation_date(NX_DATE_TIME):
        exists: recommended
        doc: |
          Date of preparation of the sample for the XPS experiment (i.e. cleaving, last
          annealing).
      preparation_description(NXnote):
        doc: |
          Description of the surface preparation technique for the XPS experiment, i.e.
          UHV cleaving, in-situ growth, sputtering/annealing etc. Ideally, a full report
          of the previous operations, in any format(NXnote allows to add pictures, audio,
          movies). Alternatively, a reference to the location or a unique identifier or
          other metadata file. In the case these are not available, free-text description.
      temperature(NX_FLOAT):
        exists: recommended
        unit: NX_TEMPERATURE
        doc: |
          In the case of a fixed temperature measurement this is the scalar temperature of
          the sample. In the case of an experiment in which the temperature is changed and
          recoded, this is an array of length m of temperatures. This should be a link to
          /entry/instrument/manipulator/sample_temperature.
      situation:
        enumeration: [vacuum, inert atmosphere, oxidising atmosphere, reducing atmosphere]
      gas_pressure(NX_FLOAT):
        unit: NX_PRESSURE
      bias(NX_FLOAT):
        unit: NX_VOLTAGE
        doc: |
          Voltage applied to sample and sample holder.
      depends_on:
      (NXtransformations): # links to fields in NXmanipulator
        doc: |
          The origin is at the sample position in the center of the detector field of view,
          with all the manipulator positioners set to zero.
    (NXdata):
      \@signal:
        enumeration: [data]
      data(NX_NUMBER):
        unit: NX_ANY
        doc: |
          Represents a measure of one- or more-dimensional photoemission counts, where the
          varied axis may be for example energy, momentum, spatial coordinate, pump-probe
          delay, spin index, temperature, etc. The axes traces should be linked to the
          actual encoder position in NXinstrument or calibrated axes in NXprocess.
