category: base
doc: |
  This group contains information about the scan control over a hyperdimensional space or 
  subspace of an N-dimensional region in which the scan is performed
  scan_types: 
        Trajectory: List of N-dimensional vectors describing all the scan points sequentially
        Mesh: In each dimension walking in a fixed region in a fixed direction. When a region is 
              scanned then a step in the next dimension is taken. As such we are speaking 
              about the fastest and slowest scan axis.
        Snake: A mesh scan where the scanning direction is reversed after each line. 
        Spiral: A spiral scan is a scan where the scanning direction is a spiral.
        Tilt: At each step, a proportional movement is done in all dimensions.

  Scan_control_types: 
      Stepping: Before the measurement at the scan points a movement to the given is performed. 
                Correction (for example backlash) or active regulation (feedback loop) may or 
                may not be applied.    
      Continues: The scanning each line in an N-dimensional space is done without stopping.
      oscillating: Scanning over a scan point continuously and then returning to start scanning the next point.

type: group
NXscan_control(NXobject):
  independent_scan_axes:
    doc: |
      A list of independent scan axes are controlled independently of each other.
      (e.g. X, Y, Z, or other physical dimensions)
      Each axis name should if possible point to an actual controlled device under the instrument environment.
      In the case of mesh, scan list the scan axis from fastest to slowest.
  scan_type:
    doc: |
      The step scan types are the types of scan that can be performed in trajectory, mesh, snake, 
      or spiral manner.
    enumeration: [trajectory, mesh, snake, spiral]
  scan_control_type:
    doc: |
      The scan control type is the type of control that can be applied to the scan in stepping, 
      continues, or oscillating manner.
    enumeration: [stepping, continues, oscillating]
  scan_region(NXobject):
    doc:
      The scan region is the region where the scan is performed. The region could be N-dimensional and is defined by the 
      minimum and maximum values of the scan axes.
    scan_offset(NX_NUMBER):
      doc: |
        The offset of the scan is the origon of the scan region.
        
        For N-dimensional, it is a list of numbers.
      \@units: NX_LENGTH
    scan_range(NX_NUMBER):
      doc: |
        The range of the scan is the length of the scan region on each dimension.
        
        For N-dimensional, it is a list of numbers.
      \@units: NX_LENGTH
    scan_angles(NX_NUMBER):
      doc: |
        The orientation of the scan region. Usually, the scan_offset and scan_range are enough to define the scan region.
        Still, several experiments might need this field for metadata.
        For N-dimensional, it is a list of numbers.
      \@units: NX_ANGLE

  # For Mesh scan
  active_meash(NXobject):
    doc: |
      The mesh scan is a scan where the scanning direction is a meshed manner.
    scan_speed(NX_NUMBER):
      doc: |
        Define the scan speed in the forward directions. Use a list of speeds for multiple dimensions.
        
        If the scan goes in the negative direction, the speed should be negative.

      \@units: NX_VELOCITY
    forward_speed(NX_NUMBER):
      doc: |
        Define the scan speed in the forward directions. Use a list of speeds for multiple dimensions.
      \@units: NX_VELOCITY
    backward_speed(NX_NUMBER):
      doc: |
        Define the scan speed in the backward directions. Use a list of speeds for multiple dimensions.
      \@units: NX_VELOCITY
    scan_resolution(NX_NUMBER):
      doc: |
        Define the scan resolution along each dimension.

        List of numbers, one for each dimension.
    scan_points(NX_NUMBER):
      doc: |
        Define the total number of points in the given axis. The number can not be greater than the
        scan resolution on that axis.
  
        List of numbers, one for each dimension.
    stepping(NX_BOOLEAN):
      doc: |
        If the scan probe steps over a number of scan points, use True. The default value is False.
      \@frog_leap_scan(NX_NUMBER):
        doc: |
          If the scan probe jumps over a number of scan points.  List of numbers, one for each dimension.
    step_value(NX_NUMBER):
      doc: |
        Define the number of points that the scan probe steps over. If needed use
        a list of numbers, one for each dimension.
      \@units: NX_LENGTH
    backlash_correction(NX_NUMBER):
      doc: |
        If the scanning probe moves back to the previous scan point, mention the number of points 
        that the scan probe moves back. If needed use a list of numbers, one for each dimension.
    continuous(NX_BOOLEAN):
      doc: |
        If the scan probe moves continuously over the scan points, use True. The default value is False.
    oscillating(NX_BOOLEAN):
      doc: |
        If the scan probe oscillates over the scan line, use True. The default value is False.
      \@oscillation_frequency(NX_NUMBER):
        doc: |
          Number of oscillations on each scanning line per second. If needed use a list of numbers for each dimension.
      \@units: NX_FREQUENCY

  # For spiral scan
  active_spiral(NXobject): 
    doc: |
      To define the spiral or circular scan, use this group.
    scan_speed(NX_NUMBER):
      doc: |
        Define the scan speed in the clockwise directions.
        
        If the scan goes in the anticlockwise direction, the speed value should be negative.
      \@units: NX_VELOCITY
      \@spiral_direction:
        doc: |
          Define the direction of the spiral scan. (e.g. clockwise, anticlockwise)
        enumeration: [clockwise, anticlockwise]
    spiral_radius(NX_NUMBER):
      doc: |
        Define the radius of the spiral scanning.

        A list of the radius values for each circle.
      \@units: NX_LENGTH
    stepping(NX_NUMBER):
      doc: |
        If the scan probe steps over a number of scan points, use True. The default value is False.
      \@step_value(NX_NUMBER):
        doc: |
          Define the number of points that the scan probe steps over.
      \@frog_leap_scan(NX_BOOLEAN):
        doc: |
          If the scan probe jumps over a number of scan points, use True. The default value is False.
      \@backlash_correction(NX_NUMBER):
        doc: |
          If the scanning probe moves back to the previous scan point, mention the number of points 
          that the scan probe moves back.
    continuous(NX_BOOLEAN):
      doc: |
        If the scan probe moves continuously over the scan points, use True. The default value is False.
    oscillating(NX_BOOLEAN):
      doc: |
        If the scan probe oscillates over the scan line, use True. The default value is False.
      \@oscillation_frequency(NX_NUMBER):
        doc: |
          Number of oscillation on each scanning line per second.
      \@units: NX_FREQUENCY

  # This active_trajectory could be explained under the same group
  active_snake(NXobject):
    doc: |
      To define the snake scan, use this group.
    scan_speed(NX_NUMBER):
      doc: |
        Define the scan speed in the positive direction (clockwise).
        If the scan goes in the negative direction, the speed should be negative.

        If multiple circles are scanned and speeds are different, use a list of numbers for each circle.
      \@units: NX_VELOCITY
    forward_speed(NX_NUMBER):
      doc: |
        If the scan speed in the forward direction (clockwise). The default value is True.

        If multiple circles are scanned and speeds are different, use a list of numbers for each circle.
      \@units: NX_VELOCITY
    backward_speed(NX_NUMBER):
      doc: |
        If the scan speed in backward directions (anti-clockwise).

        If multiple circles are scanned and speeds are different, use a list of numbers for each circle.
      \@units: NX_VELOCITY
    scan_points(NX_NUMBER):
      doc: |
        The total number of points in the given circles. 

        If multiple circles are scanned and points are different, use a list of numbers for each circle.
    stepping(NX_BOOLEAN):
      doc: |
        If the scan probe steps over a number of scan points, use True. The default value is False.
      \@step_value(NX_NUMBER):
        doc: |
          The number of points that the scan probe steps over.
          If multiple circles are scanned and steps are different, use a list of numbers for each circle.
      \@frog_leap_scan(NX_BOOLEAN):
        doc: |
          If the scan probe jumps over a number of scan points, use True. The default value is False.
      \@backlash_correction(NX_NUMBER):
        doc: |
          If the scanning probe moves back to the previous scan point, mention the number of points 
          that the scan probe moves back.

          If multiple circles are scanned and backlash corrections are different, use a list of numbers for each circle.
    continuous(NX_BOOLEAN):
      doc: |
        If the scan probe moves continuously over the scan points, use True. The default value is False.
    oscillating(NX_BOOLEAN):
      doc: |
        If the scan probe oscillates over the scan line, use True. The default value is False.
      \@oscillation_frequency(NX_NUMBER):
        doc: |
          Number of oscillation on each scanning line per second.

          If multiple circles are scanned and oscillation frequencies are different, use a list of numbers for each circle.
      \@units: NX_FREQUENCY

  scan_channels:
      doc: |
        A list of channels, if the scan happens through different channels. 
  scan_DATA(NXdata):
    exists: optional
    data:
      doc: |
        The scan data is the data collected during the scan. If the scan has several channels or derivatives from the channel data, please
        duplicate this NXdata group for each.
  