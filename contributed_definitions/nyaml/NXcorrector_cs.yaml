category: base
doc: |
  Base class for a corrector reducing (spherical) aberrations in electron microscopy.
  
  Different technology partners use different naming schemes and
  models for quantifying the aberration coefficients.
  
  The corrector in an electron microscope is composed of multiple lenses
  and multipole stigmators with details specific for the technology partner
  and microscope. Many of their technical details is proprietary knowledge.
  
  If functionalities for correcting multiple aberrations are included in
  one :ref:`NXcomponent_em` `like it is reported here <https://www.ceos-gmbh.de/en/research/electrostat>`_ 
  use multiple groups:
  
  * :ref:`NXcorrector_cs` for spherical aberration
  * :ref:`NXmonochromator` for energy filtering or chromatic aberration
  * corrector_ax in :ref:`NXem` for axial astigmatism correction
  
type: group
symbols:
  doc: |
    The symbols used in the schema to specify e.g. dimensions of arrays.
  n_img: |
    Number of images taken, at least one.
NXcorrector_cs(NXcomponent_em):
  # user perspective
  applied(NX_BOOLEAN):
    doc: |
      Was the corrector used?
  # NEW ISSUE: clarify the mathematical details behind the
  zemlin_tableauID(NXprocess):
    doc: |
      Specific information about the alignment procedure that is a process during which
      the corrector is configured to enable calibrated usage of the instrument.
      
      This :ref:`NXprocess` group should also be used when one describes in a computer
      simulation the specific details about the modelled or assumed aberration
      corrections.
    description(NX_CHAR):
      doc: |
        Discouraged free-text field to add further details about the alignment procedure.
    tilt_angle(NX_NUMBER):
      doc: |
        The outer tilt angle of the beam in tableau acquisition.
        
        TODO: The relevant axes which span the tilt_angle need a
        cleaner description.
      unit: NX_ANGLE
      dim: (n_img,)
    exposure_time(NX_NUMBER):
      doc: |
        The exposure time of single tilt images.
      unit: NX_TIME
      dim: (n_img,)
    magnification(NX_NUMBER):
      doc: |
        The factor of enlargement of the apparent size,
        not the physical size, of an object.
      unit: NX_DIMENSIONLESS
      dim: (n_img,)
    (NXimage_set):
      doc: |
        The images taken during the alignment procedure.
    (NXprocess):
      doc: |
        Place for storing measured or estimated aberrations (for each image or final).
      (NXaberration_model):
  # technical design perspective
  (NXlens_em):
  (NXaperture_em):
  # (NXdeflector):
