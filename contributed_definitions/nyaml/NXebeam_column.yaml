category: base
doc: |
  Base class for a set of components providing a controllable electron beam.
  
  The idea behind defining NXebeam_column as an own base class vs. adding these
  concepts in NXinstrument_em is that the electron beam generating component
  might be worthwhile to use also in other types of experiments.
type: group
NXebeam_column(NXcomponent):
  operation_mode(NX_CHAR):
    doc: |
      Tech-partner, microscope-, and control-software-specific name of the
      specific operation mode how the ebeam_column and its components are
      controlled to achieve specific illumination conditions.
      
      In many cases the users of an instrument do not or can not be expected to know
      all intricate spatiotemporal dynamics of their hardware. Instead, they rely on
      assumptions that the instrument, its control software, and components work as
      expected to focus on their research questions.
      
      For these cases, having a place for documenting the operation_mode is useful
      in as much as at least some constraints on how the illumination conditions were
      is documented.
  electron_source(NXsource):
    doc:
    - |
      A physical part of an electron or ion microscope from which
      the particles that form the beam are emitted.
    - |
      The hardware for an electron source in an electron microscope
      may contain several components which affect the beam path.
    - |
      xref:
        spec: EMglossary
        term: Source
        url: https://purls.helmholtz-metadaten.de/emg/EMG_00000045
    voltage(NX_NUMBER):
      unit: NX_VOLTAGE
      doc:
      - |
        The potential difference between anode and cathode.
      - |
        xref:
          spec: EMglossary
          term: Acceleration Voltage
          url: https://purls.helmholtz-metadaten.de/emg/EMG_00000004
    extraction_voltage(NX_NUMBER):
      unit: NX_VOLTAGE
      doc:
      - |
        Voltage which is used to create an electric field that draws particles from
        the source.
      - |
        xref:
          spec: EMglossary
          term: Extraction Voltage
          url: https://purls.helmholtz-metadaten.de/emg/EMG_00000025
    emission_current(NX_NUMBER):
      unit: NX_CURRENT
      doc:
      - |
        Electrical current which is released from the source.
      - |
        xref:
          spec: EMglossary
          term: Emission Current
          url: https://purls.helmholtz-metadaten.de/emg/EMG_00000025
    filament_current(NX_NUMBER):
      unit: NX_CURRENT
      doc:
      - |
        Electrical current which flows through the source.
      - |
        xref:
          spec: EMglossary
          term: Filament Current
          url: https://purls.helmholtz-metadaten.de/emg/EMG_00000027
    probe(NX_CHAR):
      doc: |
        Type of radiation.
      enumeration: [electron]
    emitter_type(NX_CHAR):
      doc: |
        Emitter type used to create the beam.
        
        If the emitter type is other, give further details
        in the description field.
    
    # enumeration: [filament, schottky, cold_cathode_field_emitter, other]
    emitter_material(NX_CHAR):
      doc: |
        Material of which the emitter is build, e.g. the filament material.
    
    # emitter material could inherit from NXsample
    lifetime(NX_NUMBER):
      unit: NX_TIME
      doc: |
        How long has the source been in operation.
  (NXlens_em):
  (NXaperture):
  (NXdeflector):
  blankerID(NXdeflector):
    nameType: partial
    doc: |
      A component for blanking the beam or generating pulsed electron beams.
      See e.g . `I. G. C. Weppelman et al. <https://doi.org/10.1016/j.ultramic.2017.10.002>`_
      or `Y. Liao <https://www.globalsino.com/EM/page2464.html>`_ for details.
  (NXmonochromator):
    doc: |
      Device to improve energy resolution or chromatic aberration.
      
      Examples are Wien, $\textalpha$-, or $\Omega$- energy filter or `cc corrector
      like <https://www.ceos-gmbh.de/en/basics/cc-corrector>`_
    
    # control level perspective
    type(NX_CHAR):
      doc: |
        Qualitative type of the component.
      enumeration: [wien, alfa, omega, castaing_henry, gatan_imaging, sector_analyzer]
    (NXfabrication):
    applied(NX_BOOLEAN):
      doc: |
        Was the corrector used?
    
    # technical level
    dispersion(NX_NUMBER):
      unit: NX_ANY
      doc: |
        Energy dispersion in e.g. µm/eV.
    voltage(NX_NUMBER):
      unit: NX_VOLTAGE
      doc: |
        Corresponding voltage for that energy dispersion.
  corrector_cs(NXcorrector_cs):
  corrector_ax(NXcomponent):
    doc: |
      Component that reshapes an ellipse-shaped electron beam into a circular one.
      
      * `L. Reimer 1998, Springer, 1998 <https://dx.doi.org/10.1007/978-3-540-3896>`_
      * `M. Tanaka et al., Electron Microscopy Glossary, 2024 <https://www.jeol.com/words/semterms/20201020.111014.php#gsc.tab=0>`_
      
      Stigmator is an exact synonym.
    value_x(NX_NUMBER):
      unit: NX_ANY
      doc: |
        Descriptor for the correction strength along the first direction when exact technical details
        are unknown or not directly controllable as the control software of the microscope does not
        enable or was not configured to display these values for users.
    value_y(NX_NUMBER):
      unit: NX_ANY
      doc: |
        Descriptor for the correction strength along the second direction when exact technical details
        are unknown or not directly controllable as the control software of the microscope does not
        enable or was not configured to display these values for users.
  biprismID(NXcomponent):
    nameType: partial
    doc: |
      Electron biprism as it is used e.g. for electron holography.
  phaseplateID(NXcomponent):
    nameType: partial
    doc: |
      Device that causes a change in the phase of an electron wave.
      
      * `M. Malac et al. <https://doi.org/10.1093/jmicro/dfaa070>`_
      * `R. R. Schröder et al. <https://www.lem.kit.edu/152.php>`_
    type(NX_CHAR):
      doc: |
        Qualitative type
      enumeration:
        open_enum: true
        items: [thin_film, electrostatic]
  (NXsensor):
  (NXactuator):
  (NXbeam):
    doc:
    - |
      Individual characterization results for the position, shape,
      and characteristics of the electron beam at a given location.
    - |
      :ref:`NXtransformations` should be used to specify the location
      or the position at which details about the beam were probed.
    - |
      xref:
        spec: EMglossary
        term: Electron Beam
        url: https://purls.helmholtz-metadaten.de/emg/EMG_00000021
  (NXcomponent):
