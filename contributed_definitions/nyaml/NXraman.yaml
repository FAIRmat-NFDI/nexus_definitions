category: application
doc: |
  An application definition for Raman spectrocopy experiments.
  
  Information on Raman spectroscopy are provided in:
  
  General

  * Lewis, Ian R.; Edwards, Howell G. M.
    Handbook of Raman Spectroscopy
    ISBN 0-8247-0557-2
  
  Raman scattering selection rules

  * Dresselhaus, M. S.; Dresselhaus, G.; Jorio, A.
    Group Theory - Application to the Physics ofCondensed Matter
    ISBN 3540328971
  
  Semiconductors
  
  * Manuel Cardona
    Light Scattering in Solids I
    eBook ISBN: 978-3-540-37568-5
    DOI: https://doi.org/10.1007/978-3-540-37568-5
  
  * Manuel Cardona, Gernot GÃ¼ntherodt
    Light Scattering in Solids II
    eBook ISBN:  978-3-540-39075-6
    DOI: https://doi.org/10.1007/3-540-11380-0
  
  * See as well other Books from the "Light Scattering in Solids" series:
    III: Recent Results
    IV: Electronic Scattering, Spin Effects, SERS, and Morphic Effects
    V: Superlattices and Other Microstructures
    VI: Recent Results, Including High-Tc Superconductivity
    VII: Crystal-Field and Magnetic Excitations
    VIII: Fullerenes, Semiconductor Surfaces, Coherent Phonons
    IX: Novel Materials and Techniques
  
  Glasses, Liquids, Gasses, ...
  
  Review articles:
  Stimulated Raman scattering, Coherent anti-Stokes Raman scattering,
  Surface-enhanced Raman scattering, Tip-enhanced Raman scattering
  * https://doi.org/10.1186/s11671-019-3039-2
symbols:
  doc: |
    Variables used throughout the document, e.g. dimensions or parameters.
  N_spectrum: |
    Length of the spectrum array (e.g. wavelength or energy) of the measured
    data.
  N_sensors: |
    Number of sensors used to measure parameters that influence the sample,
    such as temperature or pressure.
  N_measurements: |
    Number of measurements (1st dimension of measured_data array). This is
    equal to the number of parameters scanned. For example, if the experiment
    was performed at three different temperatures and two different pressures
    N_measurements = 2*3 = 6.
  N_scattering_configurations: |
    Number of scattering configurations used in the measurement.
    It is 1 for only parallel polarization meausement, 2 for parallel and cross 
    polarization measurement or larger, if i.e. the incident and scattered photon
    direction is varied.
  N_observables: |
    Number of observables that are saved in a measurement. e.g. one for
    intensity, reflectivity or transmittance, two for Psi and Delta etc. This
    is equal to the second dimension of the data array 'measured_data' and the
    number of column names.
  N_time: |
    Number of time points measured, the length of NXsample/time_points
  N_spectrum_filter: |
    Number of points for a spectral filter used in the setup

# 03/2024
# A draft version of a NeXus application definition for Raman spectroscopy.

# The document has the following main elements:
# - Instrument used and is characteristics
# - Sample: Properties of the sample
# - Data: measured data, data errors
# - Derived parameters: e.g. extra parameters derived in the measurement software
type: group
NXraman(NXopt):
  (NXentry):
    doc: |
      This is the application definition describing Raman spectroscopy experiments.
      
      Such experiments may be as simple a single Raman spectrum from spontanous
      Raman scattering and range to Raman imaging Raman spectrometer,
      surface- and tip-enhanced Raman techniques, x-Ray Raman scattering, as well
      as resonant Raman scattering phenomena or multidimenional Raman spectra (i.e.
      varying temperature, pressure, electric field, ....)
      
      The application definition defines:
      
      * elements of the experimental instrument
      * calibration information if available
      * parameters used to tune the state of the sample
      * sample description
    definition:
      doc: |
        An application definition for ellipsometry.
      \@version:
        doc: |
          Version number to identify which definition of this application
          definition was used for this entry/data.
      \@url:
        doc: |
          URL where to find further material (documentation, examples) relevant
          to the application definition.
      enumeration: [NXraman]
    experiment_description:
      doc: |
        An optional free-text description of the experiment.
        
        However, details of the experiment should be defined in the specific
        fields of this application definition rather than in this experiment
        description.
    experiment_type:
      doc: |
        Specify the type of Raman measurement.
      enumeration: [in situ Raman spectroscopy, resonant Raman spectroscopy, non-resonant Raman spectroscopy, Raman imaging, Tip-enhanced Raman spectroscopy (TERS), Surface-enhanced Raman spectroscopy (SERS), Surface plasmon polariton enhanced Raman scattering (SPPERS), Hyper Raman spectroscopy (HRS), Stimulated Raman spectroscopy (SRS), Inverse Raman spectroscopy (IRS), Coherent anti-Stokes Raman spectroscopy (CARS), other]
    experiment_type_other:
      exists: optional
      doc: |
        If the experiment_type is `other`, a name should be specified here.
    (NXinstrument):
      doc: |
         Metadata of the setup, its optical elements and physical properites which
         defines the Raman measurement.
      device_information(NXfabrication):      
        doc: |
          Name of the company which build the instrument.
        exists: recommended
        vendor:
          exists: recommended
        model:
          exists: recommended
        identifier:
          exists: recommended
        construction_year(NX_DATE_TIME): # is 1 indention ok?
          exists: optional
          doc: |
            ISO8601 date when the instrument was constructed.
            UTC offset should be specified.
      software(NXprocess): ## NXChar=
        program:
          doc: |
            Commercial or otherwise defined given name of the program that was
            used to generate the result file(s) with measured data and metadata.
            This program converts the measured signals to Raman data. If
            home written, one can provide the actual steps in the NOTE subfield
            here.
      incident_source_wavelength(NX_NUMBER):
        unit: NX_LENGTH
        doc: |
          Which indicent wavelength was used for e.g. a laser source.
          For multiple excitation wavelengths, please state the specific discret
          wavelengths (i.e. for dye laser) or the specific contnious range
          (i.e for white light laser source)
      scattering_configuration(NX_CHAR):
        # unit: NX_LENGTH
        doc: |
          Scattering configuration as defined by the porto notation by three
          states, which are othogonal to each other. Example: z(xx)z for
          parallel polarized backscattering configuration.
          
          See:
          https://www.cryst.ehu.es/cgi-bin/cryst/programs/nph-doc-raman
          
          A(BC)D
          
          A = The propagation direction of the incident light (k_i)
          B = The polarization direction of the incident light (E_i)
          C = The polarization direction of the scattered light (E_s)
          D = The propagation direction of the scattered light (k_s)
          
          An orthogonal base is assumed.
          Linear polarized light is displayed by e.g. "x","y" or "z"
          Unpolarized light is displayed by "."
        \@non_orthogonal_base_vectors(NX_NUMBER):
          # unit: NX_LENGTH
          doc: |
            Scattering configuration as defined by the porto notation given by
            respective vectors.
            
            Vectors in the porto notation are defined as for A, B, C, D above.
            Linear light polarization is assumed.
          dimensions:
            rank: 2
            doc: |
              3 x 4 Matrix, which lists the porto notation vectors A, B, C, D.
              A has to be perpendicular to B and C perpendicular to D.
            dim: [[1, 4], [2, 3]]

      # In the following - Auxillary NXbeam_devices are defined, to enable a 
      # beam path description of the setup, while using the up now available
      # Nexus definitions for source, detector, monochromator, ... 
      opt_source(NXbeam_device):
        doc: |
          This is the beam device instance of the optical source.

          It enables a description of the optical setup via NXbeam_devices to 
          be able to connect the components. This connection is then a "beam path".

          The properties of the source are located in a NXsource group.
          [Note: the idea is to incorporate later NXbeam_device into NXsource]

          This is done similarily with NXlens_opt, NXdetector, NXwaveplate and NXmonochromator.
        \@device:
          doc: |
            It should contain the name of the Nexus source group.
      incident_light_optics(NXbeam_device):
        doc: |
          Beam device instance of the incident light optics.
        \@device:
          doc: |
            It should contain the name of the "incident_light_lens(NXlens_opt)" group
      scattered_light_optics(NXbeam_device):
        doc: |
          Beam device instance of the scattered light optics.
        \@device:
          doc: |
            It should contain the name of the "scattered_light_lens(NXlens_opt)" group
      opt_detector(NXbeam_device):
        doc: |
          Properties of the detector to link it via NXbeam_device to other beam
          elements
        \@device:
          doc: |
            It should contain the name of the Nexus detector group
      polarization_manipulator_NAME(NXbeam_device):
        exists: optional
        doc: |
          Link to the device, that it can be used to generate a beam path via
          NXbeam_device. The string >NAME< in the name of this NXbeam_device
          has to identical to >NAME< in waveplate_NAME(NXwaveplate).
        \@device:
          doc: |
            This should contain the name for each halfwave plate used in the
            NXwaveplate group.
      opt_monochromator(NXbeam_device):
        exists: optional
        doc: |
          Dispersive element to create e.g. an energetic resolution used in the 
          measurement.
        \@device:
          doc: |
            It should contain the name of the Nexus Monochromator group
      sample_as_beam_element(NXbeam_device):
        doc: |
          Enables beam path description of the sample in the setup.
          it in a beam path.
        \@device:
          doc: |
            Contains the link to the sample.
      # End of Auxillary NXbeam_devices


      # Below:
      # generic NeXus definition for optical elements of the setup
      (NXsource):
        doc: |
          Light source with arbitrary choice of name. This shall be referenced
          by source(NXbeam_device)
        source_type:
          enumeration: [laser, dye-laser, broadband tunable light source, other]
      (NXdetector):
        doc: |
          Detector with arbitrary choice of the name, which shall be referenced
          by the detector(NXbeam_device). 
      (NXmonochromator):
        doc: |
          Monochromator with arbitrary choice of the name, which shall be referenced
          by the spectrometer(NXbeam_device).

      # Below:
      # NeXus definition derived optical elements of the setup
      incident_light_lens(NXlens_opt):        
        doc: |
          This is the optical element used for the incident light in the Raman
          scattering process.
          
          This can be for example a simple lens or microscope
          objective.
        exists: recommended
        type:
          enumeration: [objective, lens, glass fiber, none, other]
        numerical_aperture(NX_NUMBER):
          doc: |
            The numerical aperture of the used incident light optics.
      scattered_light_lens(NXlens_opt):
        doc: |
          This is the optical element used for the incident light in the Raman
          scattering process.
          
          This can be for example a simple lens or microscope
          objective.
        exists: recommended
        type:
          enumeration: [objective, lens, glass fiber, none, other]
        numerical_aperture(NX_NUMBER):
          doc: |
            The numerical aperture of the used incident light optics.
      waveplate_NAME(NXwaveplate):
        doc: |
          Properties of the device for the manipulation of the state of light which is a half wave
          plate.
        type:
          enumeration: [objective, lens, glass fiber, none, other]
        
      # Below:
      # NXraman specific optical elements
      polarization_filter(NXbeam_device):
        filter_mechanism(NX_CHAR):
          exists: optional
          doc: |
            Physical principle of the polarization filter used to create a
            defined incident or scattered light state.
          enumeration: [Polarization by Fresnel reflection, Birefringent polarizers, Thin film polarizers, Wire-grid polarizers, other]
        specific_polarization_filter_type(NX_CHAR):
          doc: |
            Specific name or type of the polarizer used.
            
            Free text, for example: Glan-Thompson, Glan-Taylor, Rochon Prism, Wollaston
            Polarizer...      
      spectral_filter_N(NXbeam_device):
        filter_type:
          exists: optional
          doc: |
            Type of laserline filter used to supress the laser, if measurements
            close to the laserline are performed.
          enumeration: [long-pass filter, short-pass filter, Notch filter, reflection filter, neutral density filter, other]
        intended_use:
          exists: optional
          doc: |
            Type of laserline filter used to supress the laser, if measurements
            close to the laserline are performed.
          enumeration: [laser line cleanup, raylight line removal, spectral filtering, intensity manipulation, other]
        filter_characteristics(NX_NUMBER):
          exists: optional
          doc: |
            Properties of the spectral filter such as wavelength dependent Transmission
            or reflectivity.
          dimensions:
            rank: 2
            dim: [[1, 2], [2, N_spectrum_filter]]
            # 2 -> [Wavelength, Transmission]
            # N_spectrum_filter --> Number of wavelengths
          \@characteristics_type:
            exists: optional
            doc: |
              Which property is used to form the spectral properties of light,
              i.e. transmission or reflection properties.
            enumeration: [transmission, reflection]
    (NXsample):
      name:
        exists: required
      sample_id:
        exists: recommended
      chemical_formula:
        exists: recommended
    data_collection(NXprocess):
      data_type:
        doc: |
          Select which type of data was recorded, for example a simple spectrum
          with intensity vs. Raman shift, CCD image or a set of spectra with
          probe, reference and background signals for pump beam on and off.
        enumeration: [Integrated single spectrum, CCD image, Probe + Background + Reference for Pump-on and Pump-off (i.e. for FSRS)]

# ++++++++++++++++++++++++++++++++++ SHA HASH ++++++++++++++++++++++++++++++++++
# 80b03b96b60b3c124d11d834654b3e57e09716088e8dca121f7903148c7b06e3
# <?xml version='1.0' encoding='UTF-8'?>
# <?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
# <!--
# # NeXus - Neutron and X-ray Common Data Format
# #
# # Copyright (C) 2014-2024 NeXus International Advisory Committee (NIAC)
# #
# # This library is free software; you can redistribute it and/or
# # modify it under the terms of the GNU Lesser General Public
# # License as published by the Free Software Foundation; either
# # version 3 of the License, or (at your option) any later version.
# #
# # This library is distributed in the hope that it will be useful,
# # but WITHOUT ANY WARRANTY; without even the implied warranty of
# # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# # Lesser General Public License for more details.
# #
# # You should have received a copy of the GNU Lesser General Public
# # License along with this library; if not, write to the Free Software
# # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
# #
# # For further information, see http://www.nexusformat.org
# -->
# <!--
# 03/2024
# A draft version of a NeXus application definition for Raman spectroscopy.-->
# <!--
# The document has the following main elements:
# - Instrument used and is characteristics
# - Sample: Properties of the sample
# - Data: measured data, data errors
# - Derived parameters: e.g. extra parameters derived in the measurement software-->
# <definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" category="application" type="group" name="NXraman" extends="NXopt" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
#     <symbols>
#         <doc>
#              Variables used throughout the document, e.g. dimensions or parameters.
#         </doc>
#     </symbols>
#     <doc>
#          An application definition for Raman spectrocopy experiments.
#          
#          Information on Raman spectroscopy are provided in:
#          
#          General
#          * Lewis, Ian R.; Edwards, Howell G. M.
#            Handbook of Raman Spectroscopy
#            ISBN 0-8247-0557-2
#          
#          Raman scattering selection rules
#          * Dresselhaus, M. S.; Dresselhaus, G.; Jorio, A.
#            Group Theory - Application to the Physics ofCondensed Matter
#            ISBN 3540328971
#          
#          Semiconductors
#          * Manuel Cardona
#            Light Scattering in Solids I
#            eBook ISBN: 978-3-540-37568-5
#            DOI: https://doi.org/10.1007/978-3-540-37568-5
#          
#          * Manuel Cardona, Gernot GÃ¼ntherodt
#            Light Scattering in Solids II
#            eBook ISBN:  978-3-540-39075-6
#            DOI: https://doi.org/10.1007/3-540-11380-0
#          
#          * See as well other Books from the "Light Scattering in Solids" series:
#            III: Recent Results
#            IV: Electronic Scattering, Spin Effects, SERS, and Morphic Effects
#            V: Superlattices and Other Microstructures 
#            VI: Recent Results, Including High-Tc Superconductivity
#            VII: Crystal-Field and Magnetic Excitations
#            VIII: Fullerenes, Semiconductor Surfaces, Coherent Phonons
#            IX: Novel Materials and Techniques
#          
#          Glasses, Liquids, Gasses, ...
#          
#          Review articles:
#          Stimulated Raman scattering, Coherent anti-Stokes Raman scattering,
#          Surface-enhanced Raman scattering, Tip-enhanced Raman scattering
#          * https://doi.org/10.1186/s11671-019-3039-2
#     </doc>
#     <group type="NXentry">
#         <doc>
#              This is the application definition describing Raman spectroscopy experiments.
#              
#              Such experiments may be as simple a single Raman spectrum from spontanous 
#              Raman scattering and range to Raman imaging Raman spectrometer,
#              surface- and tip-enhanced Raman techniques, x-Ray Raman scattering, as well
#              as resonant Raman scattering phenomena or multidimenional Raman spectra (i.e.
#              varying temperature, pressure, electric field, ....)
#              
#              The application definition defines:
#              
#              * elements of the experimental instrument
#              * calibration information if available
#              * parameters used to tune the state of the sample
#              * sample description
#         </doc>
#         <field name="definition">
#             <doc>
#                  An application definition for ellipsometry.
#             </doc>
#             <attribute name="version">
#                 <doc>
#                      Version number to identify which definition of this application
#                      definition was used for this entry/data.
#                 </doc>
#             </attribute>
#             <attribute name="url">
#                 <doc>
#                      URL where to find further material (documentation, examples) relevant
#                      to the application definition.
#                 </doc>
#             </attribute>
#             <enumeration>
#                 <item value="NXraman"/>
#             </enumeration>
#         </field>
#         <field name="experiment_description">
#             <doc>
#                  An optional free-text description of the experiment.
#                  
#                  However, details of the experiment should be defined in the specific
#                  fields of this application definition rather than in this experiment
#                  description.
#             </doc>
#         </field>
#         <field name="experiment_type">
#             <doc>
#                  Specify the type of Raman measurement.
#             </doc>
#             <enumeration>
#                 <item value="in situ Raman spectroscopy"/>
#                 <item value="resonant Raman spectroscopy"/>
#                 <item value="non-resonant Raman spectroscopy"/>
#                 <item value="Raman imaging"/>
#                 <item value="Tip-enhanced Raman spectroscopy (TERS)"/>
#                 <item value="Surface-enhanced Raman spectroscopy (SERS)"/>
#                 <item value="Surface plasmon polariton enhanced Raman scattering (SPPERS)"/>
#                 <item value="Hyper Raman spectroscopy (HRS)"/>
#                 <item value="Stimulated Raman spectroscopy (SRS)"/>
#                 <item value="Inverse Raman spectroscopy (IRS)"/>
#                 <item value="Coherent anti-Stokes Raman spectroscopy (CARS)"/>
#             </enumeration>
#         </field>
#         <!--Spontanous / far Field Raman Techniques-->
#         <!--Enhanced / near Field Raman Techniques-->
#         <!--Nonlinear Raman spectroscopy-->
#         <group type="NXinstrument">
#             <doc>
#                  Properties of the Instruments used for Raman instrumeasurements.
#             </doc>
#             <field name="company" optional="true">
#                 <doc>
#                      Name of the company which build the instrument.
#                 </doc>
#             </field>
#             <field name="construction_year" type="NX_DATE_TIME" optional="true">
#                 <doc>
#                      ISO8601 date when the instrument was constructed.
#                      UTC offset should be specified.
#                 </doc>
#             </field>
#             <group name="software" type="NXprocess">
#                 <field name="program">
#                     <doc>
#                          Commercial or otherwise defined given name of the program that was
#                          used to generate the result file(s) with measured data and metadata.
#                          This program converts the measured signals to Raman data. If
#                          home written, one can provide the actual steps in the NOTE subfield
#                          here.
#                     </doc>
#                 </field>
#             </group>
#             <field name="incident_source_wavelength" type="NX_NUMBER" units="NX_LENGTH">
#                 <doc>
#                      Which indicent wavelength was used for e.g. a laser source.
#                      For multiple excitation wavelengths, please state the specific discret
#                      wavelengths (i.e. for dye laser) or the specific contnious range 
#                      (i.e for white light laser source)
#                 </doc>
#             </field>
#             <field name="scattering_configuration" type="NX_CHAR">
#                 <!--
# unit: NX_LENGTH
# -->
#                 <doc>
#                      Scattering configuration as defined by the porto notation by three 
#                      states, which are othogonal to each other. Example: z(xx)z for
#                      parallel polarized backscattering configuration.
#                      
#                      See:
#                      https://www.cryst.ehu.es/cgi-bin/cryst/programs/nph-doc-raman
#                      
#                      A(BC)D
#                      
#                      A = The propagation direction of the incident light (k_i)
#                      B = The polarization direction of the incident light (E_i)
#                      C = The polarization direction of the scattered light (E_s)
#                      D = The propagation direction of the scattered light (k_s)
#                      
#                      An orthogonal base is assumed.
#                      Linear polarized light is displayed by e.g. "x","y" or "z"
#                      Unpolarized light is displayed by "."
#                 </doc>
#                 <field name="non_orthogonal_base_vectors" type="NX_NUMBER">
#                     <!--
# unit: NX_LENGTH
# -->
#                     <doc>
#                          Scattering configuration as defined by the porto notation given by
#                          respective vectors.
#                          
#                          Vectors in the porto notation are defined as for A, B, C, D above.
#                          Linear light polarization is assumed.
#                     </doc>
#                     <dimensions rank="2">
#                         <doc>
#                              3 x 4 Matrix, which lists the porto notation vectors A, B, C, D. 
#                              A has to be perpendicular to B and C perpendicular to D.
#                         </doc>
#                         <dim index="1" value="4"/>
#                         <dim index="2" value="3"/>
#                     </dimensions>
#                 </field>
#             </field>
#             <group type="NXbeam_path">
#                 <group name="light_source" type="NXsource">
#                     <doc>
#                          Specify the used light source. Multiple selection possible.
#                     </doc>
#                     <field name="source_type">
#                         <enumeration>
#                             <item value="laser"/>
#                             <item value="dye-laser"/>
#                             <item value="broadband tunable light source"/>
#                             <item value="other"/>
#                         </enumeration>
#                     </field>
#                 </group>
#                 <group name="incident_light_optics" type="NXlens_opt" recommended="true">
#                     <doc>
#                          This is the optical element used for the incident light in the Raman
#                          scattering process.
#                          
#                          This can be for example a simple lens or microscope
#                          objective.
#                     </doc>
#                     <field name="type">
#                         <enumeration>
#                             <item value="objective"/>
#                             <item value="lens"/>
#                             <item value="glass fiber"/>
#                             <item value="none"/>
#                             <item value="other"/>
#                         </enumeration>
#                     </field>
#                     <field name="numerical_aperture" type="NX_NUMBER">
#                         <doc>
#                              The numerical aperture of the used incident light optics.
#                         </doc>
#                     </field>
#                 </group>
#                 <group name="scattered_light_optics" type="NXlens_opt" optional="true">
#                     <doc>
#                          This is the optical element used for the incident light in the Raman
#                          scattering process.
#                          
#                          This can be for example a simple lens or microscope
#                          objective.
#                     </doc>
#                     <attribute name="is_same_as_for_incident_light"/>
#                     <field name="type">
#                         <enumeration>
#                             <item value="objective"/>
#                             <item value="lens"/>
#                             <item value="glass fiber"/>
#                             <item value="none"/>
#                             <item value="other"/>
#                         </enumeration>
#                     </field>
#                     <field name="numerical_aperture" type="NX_NUMBER">
#                         <doc>
#                              The numerical aperture of the used incident light optics.
#                         </doc>
#                     </field>
#                 </group>
#                 <group type="NXdetector">
#                     <doc>
#                          Properties of the detector used. Integration time is the count time
#                          field, or the real time field. See their definition.
#                     </doc>
#                 </group>
#                 <group name="polarization_manipulator_N" type="NXwaveplate" optional="true">
#                     <doc>
#                          Device for the manipulation of the state of light which is a half wave
#                          plate.
#                     </doc>
#                     <field name="type">
#                         <enumeration>
#                             <item value="objective"/>
#                             <item value="lens"/>
#                             <item value="glass fiber"/>
#                             <item value="none"/>
#                             <item value="other"/>
#                         </enumeration>
#                     </field>
#                 </group>
#                 <field name="polarization_filter" optional="true">
#                     <doc>
#                          Physical principle of the polarization filter used to create a 
#                          defined incident or scattered light state.
#                     </doc>
#                     <field name="type">
#                         <enumeration>
#                             <item value="Polarization by Fresnel reflection"/>
#                             <item value="Birefringent polarizers"/>
#                             <item value="Thin film polarizers"/>
#                             <item value="Wire-grid polarizers"/>
#                         </enumeration>
#                     </field>
#                     <field name="specific_polarizer_type">
#                         <doc>
#                              Specific name or type of the polarizer used.
#                              
#                              For example: Glan-Thompson, Glan-Taylor, Rochon Prism, Wollaston 
#                              Polarizer...
#                         </doc>
#                     </field>
#                 </field>
#                 <field name="laser_line_filter" optional="true">
#                     <doc>
#                          Type of laserline filter used to supress the laser, if measurements
#                          close to the laserline are performed.
#                     </doc>
#                     <field name="type">
#                         <enumeration>
#                             <item value="Long-pass filter"/>
#                             <item value="Short-pass filter"/>
#                             <item value="Notch Filter"/>
#                         </enumeration>
#                     </field>
#                     <field name="filter_design_wavelength" type="NX_NUMBER">
#                         <doc>
#                              Design wavelength for the laser line filter.
#                         </doc>
#                     </field>
#                     <field name="filter_spectral_steepness">
#                         <doc>
#                              Steepness of the filter by normal incidence of the light as defined
#                              by 10% - 90% transmittance of the respective filter.
#                         </doc>
#                     </field>
#                     <!--for a notch filter in principle two steepness have to be defined..-->
#                     <field name="filter_strength" type="NX_float">
#                         <doc>
#                              Designed supression strength of the laserline at optimal condition
#                              given in orders of magnitude.
#                         </doc>
#                     </field>
#                 </field>
#                 <group name="rotating_element" type="NXwaveplate" optional="true">
#                     <doc>
#                          Properties of the rotating element defined in
#                          'instrument/rotating_element_type'.
#                     </doc>
#                     <field name="revolutions" type="NX_NUMBER" optional="true" units="NX_COUNT">
#                         <doc>
#                              Define how many revolutions of the rotating element were averaged
#                              for each measurement. If the number of revolutions was fixed to a
#                              certain value use the field 'fixed_revolutions' instead.
#                         </doc>
#                     </field>
#                     <field name="fixed_revolutions" type="NX_NUMBER" optional="true" units="NX_COUNT">
#                         <doc>
#                              Define how many revolutions of the rotating element were taken
#                              into account for each measurement (if number of revolutions was
#                              fixed to a certain value, i.e. not averaged).
#                         </doc>
#                     </field>
#                     <field name="max_revolutions" type="NX_NUMBER" optional="true" units="NX_COUNT">
#                         <doc>
#                              Specify the maximum value of revolutions of the rotating element
#                              for each measurement.
#                         </doc>
#                     </field>
#                 </group>
#                 <group name="spectrometer" type="NXmonochromator" optional="true">
#                     <doc>
#                          The spectroscope element of the ellipsometer before the detector,
#                          but often integrated to form one closed unit. Information on the
#                          dispersive element can be specified in the subfield GRATING. Note
#                          that different gratings might be used for different wavelength
#                          ranges. The dispersion of the grating for each wavelength range can
#                          be stored in grating_dispersion.
#                     </doc>
#                 </group>
#             </group>
#         </group>
#         <group type="NXsample">
#             <field name="backside_roughness" type="NX_BOOLEAN">
#                 <doc>
#                      Was the backside of the sample roughened? Relevant for infrared
#                      ellipsometry.
#                 </doc>
#             </field>
#         </group>
#         <group name="data_collection" type="NXprocess">
#             <field name="data_type">
#                 <doc>
#                      Select which type of data was recorded, for example a simple spectrum
#                      with intensity vs. Raman shift, CCD image or a set of spectra with
#                      probe, reference and background signals for pump beam on and off.
#                 </doc>
#                 <enumeration>
#                     <item value="Integrated single spectrum"/>
#                     <item value="CCD image"/>
#                     <item value="Probe + Background + Reference for Pump-on and Pump-off (i.e. for FSRS)"/>
#                 </enumeration>
#             </field>
#         </group>
#     </group>
# </definition>
