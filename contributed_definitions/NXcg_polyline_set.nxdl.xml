<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<!--
# NeXus - Neutron and X-ray Common Data Format
# 
# Copyright (C) 2014-2022 NeXus International Advisory Committee (NIAC)
# 
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 3 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# For further information, see http://www.nexusformat.org
-->
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" category="base" type="group" name="NXcg_polyline_set" extends="NXcg_primitive_set" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
    <symbols>
        <doc>
             The symbols used in the schema to specify e.g. dimensions of arrays.
        </doc>
        <symbol name="d">
            <doc>
                 The dimensionality, which has to be at least 1.
            </doc>
        </symbol>
        <symbol name="c">
            <doc>
                 The cardinality of the set, i.e. the number of polylines.
            </doc>
        </symbol>
        <!--n_unique: The number of unique vertices supporting the polyline.
multiple vertices possible with the same point coordinates but different names.-->
        <symbol name="n_v">
            <doc>
                 The number of vertices, supporting the polylines.
            </doc>
        </symbol>
        <symbol name="n_total">
            <doc>
                 The total number of vertices traversed when visiting every polyline.
            </doc>
        </symbol>
    </symbols>
    <doc>
         Computational geometry description of a set of polylines.
         
         Each polyline is built from a sequence of vertices (points with identifiers).
         Each polyline must have a start and an end point.
         The sequence describes the positive traversal along the polyline when
         walking from the start vertex to the end/last vertex.
    </doc>
    <!--number_of_unique_vertices(NX_POSINT):
unit: NX_UNITLESS-->
    <field name="number_of_total_vertices" type="NX_POSINT" units="NX_UNITLESS">
        <doc>
             The total number of vertices, irrespective of their eventual uniqueness,
             i.e. the total number of vertices that have to be visited when walking
             along each polyline.
        </doc>
    </field>
    <field name="number_of_vertices" type="NX_POSINT" units="NX_UNITLESS">
        <doc>
             Array which specifies of how many vertices each polyline is built.
             The number of vertices represent the total number of vertices for
             each polyline, irrespectively whether vertices are shared or not.
             See the docstring for polylines for further details about how
             a set with different polyline members should be stored.
        </doc>
        <dimensions rank="1">
            <dim index="1" value="c"/>
        </dimensions>
    </field>
    <!--Users are encouraged to reduce the vertex set to the unique vertices.
Unique means not necessarily unique in position only but also unique in
identifier. In fact, it is possible to distinguish two vertices as two when
they share the same position in space but have different identifiers.-->
    <field name="vertices" type="NX_FLOAT" units="NX_LENGTH">
        <doc>
             Positions of the vertices which support the members of the polyline set.
        </doc>
        <dimensions rank="2">
            <dim index="1" value="n_v"/>
            <dim index="2" value="d"/>
        </dimensions>
    </field>
    <field name="vertices_are_unique" type="NX_BOOLEAN">
        <doc>
             If true indicates that the vertices are all placed at different
             positions and have different identifiers, i.e. no points overlap
             or are counted twice.
        </doc>
    </field>
    <field name="polylines" type="NX_INT" units="NX_UNITLESS">
        <doc>
             Sequence of vertex identifiers which describe each polyline.
        </doc>
        <dimensions rank="1">
            <dim index="1" value="n_total"/>
        </dimensions>
    </field>
</definition>
