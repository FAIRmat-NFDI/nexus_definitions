<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<!--
# NeXus - Neutron and X-ray Common Data Format
#
# Copyright (C) 2014-2024 NeXus International Advisory Committee (NIAC)
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 3 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# For further information, see http://www.nexusformat.org
-->
<!--
express conventions explicitly and understandable
use depends_on field - not attribute - to point to conventions used-->
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" category="base" type="group" name="NXrotation_conventions" extends="NXobject" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
    <doc>
        Base class to hold different rotation and angle conventions.

        This base class should be used at the top-level (i.e, directly below
        ``NXentry``) within an application definition to enable the usage of
        consistent conventions within one NeXus entry.

        The definitions of these conventions follows those given in
        Rowenhorst et al 2015 Modelling Simul. Mater. Sci. Eng. 23 083501,
        `DOI: 10.1088/0965-0393/23/8/083501 &lt;https://www.doi.org/10.1088/0965-0393/23/8/083501&gt;`_.
    </doc>
    <field name="rotation_handedness" type="NX_CHAR">
        <doc>
            Convention how a positive rotation angle is defined when viewing
            from the end of the rotation unit vector towards its origin,
            i.e. in accordance with convention 2 of
            DOI: 10.1088/0965-0393/23/8/083501.
            Counter_clockwise is equivalent to a right-handed choice.
            Clockwise is equivalent to a left-handed choice.
        </doc>
        <enumeration>
            <item value="undefined"/>
            <item value="counter_clockwise"/>
            <item value="clockwise"/>
        </enumeration>
    </field>
    <field name="rotation_convention" type="NX_CHAR">
        <doc>
            How are rotations interpreted into an orientation
            according to convention 3 of
            DOI: 10.1088/0965-0393/23/8/083501.
        </doc>
        <enumeration>
            <item value="undefined"/>
            <item value="passive"/>
            <item value="active"/>
        </enumeration>
    </field>
    <field name="euler_angle_convention" type="NX_CHAR">
        <doc>
            How are Euler angles interpreted given that
            there are several choices (e.g. zxz, xyz)
            according to convention 4 of DOI: 10.1088/0965-0393/23/8/083501.

            The most frequently used convention is zxz, which is based on the
            work of H.-J. Bunge, but other conventions are possible. If any
            option other than "undefined" is, proper Euler angles are
            distinguished from (improper) Tait-Bryan angles.
        </doc>
        <enumeration>
            <item value="undefined"/>
            <item value="zxz"/>
            <item value="xyx"/>
            <item value="yzy"/>
            <item value="zyz"/>
            <item value="xzx"/>
            <item value="yxy"/>
            <item value="xyz"/>
            <item value="yzx"/>
            <item value="zxy"/>
            <item value="xzy"/>
            <item value="zyx"/>
            <item value="yxz"/>
        </enumeration>
    </field>
    <field name="axis_angle_convention" type="NX_CHAR">
        <doc>
             To which angular range is the rotation angle argument of an
             axis-angle pair parameterization constrained according to
             convention 5 of DOI: 10.1088/0965-0393/23/8/083501.
        </doc>
        <enumeration>
            <item value="undefined"/>
            <item value="rotation_angle_on_interval_zero_to_pi"/>
        </enumeration>
    </field>
    <field name="sign_convention" type="NX_CHAR">
        <doc>
             Which sign convention is followed when converting orientations
             between different parameterizations/representations according
             to convention 6 of DOI: 10.1088/0965-0393/23/8/083501.
        </doc>
        <enumeration>
            <item value="undefined"/>
            <item value="p_plus_one"/>
            <item value="p_minus_one"/>
        </enumeration>
    </field>
</definition>
